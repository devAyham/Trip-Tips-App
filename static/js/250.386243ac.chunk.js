"use strict";(self.webpackChunktrip_tips_project=self.webpackChunktrip_tips_project||[]).push([[250],{1250:function(e,s,a){a.r(s);var n=a(2982),t=a(4165),i=a(1413),l=a(5861),r=a(885),o=a(7313),d=a(7890),c=a(5276),m=a(8654),u=a(2783),x=a(1969),h=a(935),p=a(1875),v=a(3124),j=a(5627),g=a(3757),b=a(4243),f=a(4704),N=a(7979),y=a(4491),k=a(6417),_=function(){return(0,k.jsx)("div",{className:"row notAceptable pt-5 ",children:(0,k.jsx)("div",{className:"col-10 col-md-6 content m-auto ",children:(0,k.jsxs)("div",{className:"alert alert-warning",role:"alert",children:[(0,k.jsx)("h4",{className:"alert-heading",children:"this place is not acceptable yet "}),(0,k.jsxs)("p",{children:["your request is rigestered in our database and waiting the support team to accept or reject it ,",(0,k.jsx)("br",{}),"so please try agian later we will send for you a message on your mail address soon"]}),(0,k.jsx)("hr",{}),(0,k.jsx)("p",{className:"mb-0",children:"after accepting your place you will have a free trail for management and full control on your place"})]})})})},Z=function(e){var s=e.id,a=e.img,n=e.info,c=e.setinfo,m=e.userRole,u=(0,d.s0)(),x=(0,o.useContext)(v.Z),h=x.auth,p=x.setAuth,j=(0,o.useState)(!1),b=(0,r.Z)(j,2),f=(b[0],b[1]),N=(0,o.useState)(""),y=(0,r.Z)(N,2),_=y[0],Z=y[1],w=(0,o.useState)(!1),C=(0,r.Z)(w,2),F=(C[0],C[1]),S=function(){var e=(0,l.Z)((0,t.Z)().mark((function e(){var a,l,r,o,d,m,x,v;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),(a=new FormData).append("image_id",s),a.append("restaurant_id",n.id),e.prev=4,e.next=7,g.Z.post("/api/remove_Restaurant_image",a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(h.atoken)},withCredentials:!0});case 7:l=e.sent,console.log(l.data),f(!1),1===l.data.status&&(r=n.images.filter((function(e){return e.id!==s&&e})),c((0,i.Z)((0,i.Z)({},n),{},{images:r}))),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),f(!1),F(!1),null!==e.t0&&void 0!==e.t0&&e.t0.message?0===(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o?void 0:o.status)?(Z(e.t0.message),console.log(_)):400===(null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d?void 0:d.status)?(3===(null===e.t0||void 0===e.t0||null===(x=e.t0.response)||void 0===x||null===(v=x.data)||void 0===v?void 0:v.status)&&(p((0,i.Z)((0,i.Z)({},h),{},{ablocked:0})),u("/blocked")),Z(e.t0.response.data.message),console.log(_)):401===(null===e.t0||void 0===e.t0||null===(m=e.t0.response)||void 0===m?void 0:m.status)?(Z(e.t0.response.data.message),console.log(_)):(Z("Edit Profile Failed"),console.log(e.t0)):(Z("No Server Response"),console.log("No Server Response"));case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}();return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:"modal fade resturantImagmoal mt-5 mt-sm-0 ",id:"resturantImag-".concat(s),tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,k.jsx)("div",{className:"modal-dialog modal-lg ",children:(0,k.jsxs)("div",{className:"modal-content ",children:[(0,k.jsxs)("div",{className:"modal-header ",children:[(0,k.jsx)("h3",{className:"modal-title ",id:"exampleModalLabel",children:"Resturant Image"}),(0,k.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,k.jsx)("div",{className:"modal-body userimageinsidemodel",children:(0,k.jsx)("img",{className:"img",src:a,alt:"..."})}),(0,k.jsxs)("div",{className:"modal-footer",children:[(0,k.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),1===m&&(0,k.jsx)("button",{type:"button",className:"btn btn-danger","data-bs-dismiss":"modal",onClick:function(){S(s)},children:"Remove Photo"})]})]})})})})},w=function(e){var s,a=e.info,m=e.setinfo,u=(0,d.s0)(),p=(0,o.useContext)(v.Z),N=p.auth,_=p.setAuth,Z=(0,o.useState)(!1),w=(0,r.Z)(Z,2),C=w[0],F=w[1],S=(0,o.useState)(""),A=(0,r.Z)(S,2),G=A[0],L=A[1],T=(0,o.useState)(!1),R=(0,r.Z)(T,2),I=(R[0],R[1]),P=(0,o.useState)(!1),U=(0,r.Z)(P,2),E=U[0],D=U[1],z=(0,c.ek)("/api/getRestaurantCategory").data,B=(0,j.cI)(),M=B.register,Y=B.handleSubmit,O=B.formState.errors,K=B.trigger,q=B.reset,H=function(){var e=(0,l.Z)((0,t.Z)().mark((function e(s){var l,r,o,d,c,x,h,p,v,j,b,f,k,Z,w,C,S,A,T,R;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=s.name,r=s.rate,o=s.location,d=s.support_email,c=s.price_booking,x=s.category,h=s.descriprion,p=s.images,(v=new FormData).append("restaurant_id",a.id),h&&v.append("description",h),l&&v.append("name",l),r&&v.append("rate",r),o&&v.append("location",o),c&&v.append("price_booking",c),x&&v.append("category_id",x),d&&v.append("support_email",d),0!==p.length&&(null===(j=(0,n.Z)(Object.values(p)))||void 0===j||j.forEach((function(e){v.append("img[]",e)}))),F(!0),e.prev=12,e.next=15,g.Z.post("/api/update_info_res",v,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(N.atoken)},withCredentials:!0});case 15:b=e.sent,console.log(b.data),F(!1),I(!0),y.Am.success("Edit Success",{autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1}),1===b.data.status&&(m((0,i.Z)((0,i.Z)({},a),b.data)),q()),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(12),F(!1),null!==e.t0&&void 0!==e.t0&&e.t0.message?0===(null===e.t0||void 0===e.t0||null===(f=e.t0.response)||void 0===f?void 0:f.status)?(L(e.t0.response.data.message),console.log(G)):400===(null===e.t0||void 0===e.t0||null===(k=e.t0.response)||void 0===k?void 0:k.status)?(0===(null===e.t0||void 0===e.t0||null===(w=e.t0.response)||void 0===w||null===(C=w.data)||void 0===C?void 0:C.status)&&(L(null===e.t0||void 0===e.t0||null===(T=e.t0.response)||void 0===T||null===(R=T.data)||void 0===R?void 0:R.message),y.Am.error("Faild :Image Has Invalid Content",{autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1})),3===(null===e.t0||void 0===e.t0||null===(S=e.t0.response)||void 0===S||null===(A=S.data)||void 0===A?void 0:A.status)&&(_((0,i.Z)((0,i.Z)({},N),{},{ablocked:0})),u("/blocked")),L(e.t0.response.data.message),console.log(G)):401===(null===e.t0||void 0===e.t0||null===(Z=e.t0.response)||void 0===Z?void 0:Z.status)?(L(e.t0.response.data.message),console.log(G)):(L("Add Package Failed"),console.log(e.t0)):(L("No Server Response"),console.log("No Server Response"));case 27:case"end":return e.stop()}}),e,null,[[12,23]])})));return function(s){return e.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[C&&(0,k.jsx)(f.Z,{}),(0,k.jsx)("div",{className:"modal fade editinfo mt-5 mt-md-0",id:"editInformation","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"editInformationLabel","aria-hidden":"true",children:(0,k.jsx)("div",{className:"modal-dialog modal-lg",children:(0,k.jsx)("form",{onSubmit:Y(H),children:(0,k.jsxs)("div",{className:"modal-content",children:[(0,k.jsxs)("div",{className:"modal-header",children:[(0,k.jsx)("h5",{className:"modal-title ",id:"editInformationLabel",children:"Edit your resturant info"}),(0,k.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,k.jsx)("div",{className:"modal-body",children:(0,k.jsxs)("div",{className:"row ",children:[(0,k.jsx)("div",{className:"col-7",children:(0,k.jsxs)("div",{className:"input-group input-group-lg  mb-1 ",children:[(0,k.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,k.jsx)(x.G,{icon:h.yGG})}),(0,k.jsx)("input",(0,i.Z)((0,i.Z)({type:"text",className:"form-control filed \n                                      ".concat(O.name&&"invalid")},M("name",{minLength:{value:3,message:"Minimum Required length is 3"},maxLength:{value:30,message:"Maximum allowed length is 30 "}})),{},{onKeyUp:function(){K("name")},placeholder:null===a||void 0===a?void 0:a.name,onChange:function(){D(!0)}})),O.name&&(0,k.jsx)("small",{className:"text-danger",children:O.name.message})]})}),(0,k.jsx)("div",{className:"col-5",children:(0,k.jsxs)("div",{className:"input-group input-group-lg mb-1 ",children:[(0,k.jsx)("span",{className:"input-group-text fs-3  filed-icon",id:"basic-addon1",children:(0,k.jsx)(x.G,{icon:h.U9S})}),(0,k.jsxs)("select",(0,i.Z)((0,i.Z)({className:"form-select  filed ".concat(O.rate&&"invalid")},M("rate",{})),{},{onKeyUp:function(){K("rate")},"aria-label":"Default select example",onChange:function(){D(!0)},children:[(0,k.jsxs)("option",{value:"",children:[a.rate," stars"]}),(0,k.jsx)("option",{value:"1",children:"1 Star"}),(0,k.jsx)("option",{value:"2",children:"2 Stars"}),(0,k.jsx)("option",{value:"3",children:"3 Stars"}),(0,k.jsx)("option",{value:"4",children:"4 Stars"}),(0,k.jsx)("option",{value:"5",children:"5 Stars "})]})),O.rate&&(0,k.jsx)("small",{className:"text-danger",children:O.rate.message})]})}),(0,k.jsx)("div",{className:"col-12",children:(0,k.jsxs)("div",{className:"input-group input-group-lg  mb-1  ",children:[(0,k.jsx)("span",{className:"input-group-text fs-3  filed-icon",id:"basic-addon1",children:(0,k.jsx)(x.G,{icon:h.Yif})}),(0,k.jsx)("input",(0,i.Z)((0,i.Z)({type:"text",className:"form-control filed \n                                      ".concat(O.location&&"invalid")},M("location",{})),{},{onKeyUp:function(){K("location")},placeholder:a.location,onChange:function(){D(!0)}})),O.location&&(0,k.jsx)("small",{className:"text-danger",children:O.location.message})]})}),(0,k.jsx)("div",{className:"col-6",children:(0,k.jsxs)("div",{className:"input-group input-group-lg  mb-1  ",children:[(0,k.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,k.jsx)(x.G,{icon:h.aLp})}),(0,k.jsx)("input",(0,i.Z)((0,i.Z)({type:"number",className:"form-control filed \n                                      ".concat(O.price_booking&&"invalid")},M("price_booking",{min:{value:1,message:"Minimum Booking Price is 1"},max:{value:1e5,message:"Maximum Booking Price is 100000 "}})),{},{onKeyUp:function(){K("price_booking")},placeholder:a.price_booking.toFixed(2),onChange:function(){D(!0)}})),(0,k.jsx)("span",{className:"input-group-text  fs-4 filed ",children:N.acurrency_symb}),O.price_booking&&(0,k.jsx)("small",{className:"text-danger",children:O.price_booking.message})]})}),(0,k.jsx)("div",{className:"col-6",children:(0,k.jsxs)("div",{className:"input-group input-group-lg mb-1 ",children:[(0,k.jsx)("span",{className:"input-group-text fs-3  filed-icon",id:"basic-addon1",children:(0,k.jsx)(x.G,{icon:h.j0x})}),(0,k.jsxs)("select",(0,i.Z)((0,i.Z)({className:"form-select  filed ".concat(O.category&&"invalid")},M("category",{})),{},{onKeyUp:function(){K("category")},"aria-label":"Default select example",onChange:function(){D(!0)},children:[(0,k.jsx)("option",{value:"",children:"category"}),null===z||void 0===z||null===(s=z.category)||void 0===s?void 0:s.map((function(e){return(0,k.jsx)("option",{selected:a.category_id===+e.id,value:+e.id,children:e.name})}))]})),O.category&&(0,k.jsx)("small",{className:"text-danger",children:O.category.message})]})}),(0,k.jsx)("div",{className:"col-12",children:(0,k.jsxs)("div",{className:"input-group input-group-lg  mb-1  ",children:[(0,k.jsx)("span",{className:"input-group-text fs-3  filed-icon",id:"basic-addon1",children:(0,k.jsx)(x.G,{icon:b.d8s})}),(0,k.jsx)("textarea",(0,i.Z)((0,i.Z)({rows:"2",type:"text",className:"form-control filed \n                                      ".concat(O.descriprion&&"invalid")},M("descriprion",{})),{},{onKeyUp:function(){K("descriprion")},placeholder:a.description,onChange:function(){D(!0)}})),O.descriprion&&(0,k.jsx)("small",{className:"text-danger",children:O.descriprion.message})]})}),(0,k.jsx)("div",{className:"col-12",children:(0,k.jsxs)("div",{className:"input-group input-group-lg  mb-1  ",children:[(0,k.jsx)("span",{className:"input-group-text fs-3  filed-icon",id:"basic-addon1",children:(0,k.jsx)(x.G,{icon:h.FU$})}),(0,k.jsx)("input",(0,i.Z)((0,i.Z)({type:"email",className:"form-control filed \n                                      ".concat(O.support_email&&"invalid")},M("support_email",{pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})),{},{onKeyUp:function(){K("support_email")},placeholder:a.support_email,onChange:function(){D(!0)}})),O.support_email&&(0,k.jsx)("small",{className:"text-danger",children:O.support_email.message})]})}),(0,k.jsxs)("div",{className:"images-box col-12",children:[(0,k.jsx)("div",{className:"col-12 ",children:(0,k.jsxs)("div",{className:"input-group input-group-lg  mb-1 ",children:[(0,k.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,k.jsx)(x.G,{icon:h.l9f})}),(0,k.jsx)("input",(0,i.Z)((0,i.Z)({type:"file",id:"poster",accept:"image/*",alt:"...",multiple:"multiple",className:"form-control filed \n                        ".concat(O.images&&"invalid")},M("images",{})),{},{onKeyUp:function(){K("images")},placeholder:"images",onChange:function(){D(!0)}})),O.images&&(0,k.jsx)("small",{className:"text-danger",children:O.images.message})]})}),(0,k.jsxs)("div",{className:"col-12 alert alert-warning d-flex align-items-center h-50 ",role:"alert",children:[(0,k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-exclamation-triangle-fill flex-shrink-0 me-2",viewBox:"0 0 16 16",role:"img","aria-label":"Warning:",children:(0,k.jsx)("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})}),(0,k.jsx)("div",{children:"You can upload multiple photos"})]})]})]})}),(0,k.jsxs)("div",{className:"modal-footer",children:[(0,k.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),(0,k.jsx)("button",{type:0===Object.keys(O).length&&"submit",className:"btn btn-primary",disabled:!E,"data-bs-dismiss":0===Object.keys(O).length&&"modal",children:"save"})]})]})})})})]})},C=function(e){var s=e.AllSupers,a=e.AllUserss,n=e.flag,c=e.setflag,m=e.info,u=(e.setinfo,e.userRole),x=(0,d.s0)(),h=(0,o.useContext)(v.Z),p=h.auth,j=h.setAuth,b=(0,o.useState)(!1),N=(0,r.Z)(b,2),y=N[0],_=N[1],Z=(0,o.useState)(""),w=(0,r.Z)(Z,2),C=(w[0],w[1]),F=(0,o.useState)(1),S=(0,r.Z)(F,2),A=S[0],G=S[1],L=function(e){document.querySelectorAll(".nav-link").forEach((function(e){e.classList.remove("active")})),e.target.classList.add("active")},T=function(){var e=function(){var e=(0,l.Z)((0,t.Z)().mark((function e(s){var a,l,r,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("user_id",s),a.append("restaurant_id",null===m||void 0===m?void 0:m.id),_(!0),e.prev=4,e.next=7,g.Z.post("/api/add_supervisor_res",a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p.atoken)},withCredentials:!0});case 7:l=e.sent,_(!1),console.log(l.data),1===l.data.status&&c(!n),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),_(!1),3===(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.status)&&(j((0,i.Z)((0,i.Z)({},p),{},{ablocked:0})),x("/blocked")),null!==e.t0&&void 0!==e.t0&&e.t0.message&&(C(e.t0.response.data.message),console.log(e.t0.response));case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(s){return e.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[y&&(0,k.jsx)(f.Z,{}),a?a.map((function(s){return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("tr",{className:"table-light\n                    text-center",children:[(0,k.jsx)("td",{children:(0,k.jsx)("div",{className:"img-model",children:(0,k.jsx)("img",{src:s.img,type:"button",alt:"..."})})}),(0,k.jsx)("td",{children:s.name}),(0,k.jsx)("td",{children:s.phone}),(0,k.jsxs)("td",{children:[1===s.have_facilities?"Yes":"No"," "]}),(0,k.jsx)("td",{children:(0,k.jsx)("button",{type:"button",className:"btn btn-success btn-sm",onClick:function(){e(s.id)},children:"Set As Supervisor"})})]})})})):(0,k.jsx)(k.Fragment,{})]})},R=function(){var e=function(){var e=(0,l.Z)((0,t.Z)().mark((function e(s){var a,l,r,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("user_id",s),a.append("restaurant_id",m.id),_(!0),e.prev=4,e.next=7,g.Z.post("/api/delete_supervisor_res",a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p.atoken)},withCredentials:!0});case 7:l=e.sent,console.log(l.data),_(!1),c(!n),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),_(!1),3===(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.status)&&(j((0,i.Z)((0,i.Z)({},p),{},{ablocked:0})),x("/blocked")),null!==e.t0&&void 0!==e.t0&&e.t0.message&&(C(e.t0.response.data.message),console.log(e.t0.response));case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(s){return e.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[y&&(0,k.jsx)(f.Z,{}),s?s.map((function(s){return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("tr",{className:"table-primary\n                    text-center",children:[(0,k.jsx)("td",{children:(0,k.jsx)("div",{className:"img-model",children:(0,k.jsx)("img",{src:s.worker_img,type:"button",alt:"..."})})}),(0,k.jsx)("td",{children:s.worker_name}),(0,k.jsx)("td",{children:s.worker_phone}),(0,k.jsx)("td",{children:(0,k.jsx)("button",{type:"button",className:"btn btn-danger btn-sm ".concat("manager"===s.role_facilities_name&&"d-none"),onClick:function(){e(null===s||void 0===s?void 0:s.user_id)},disabled:1!==u&&"manger"!==s.role_facilities_name,children:"unSet"})}),(0,k.jsx)("td",{})]})})})):(0,k.jsx)(k.Fragment,{})]})};return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:"modal fade setsupervisors mt-5",id:"setsupermodal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"setsupermodalLabel","aria-hidden":"true",children:(0,k.jsx)("div",{className:"modal-dialog modal-xl modal-fullscreen-sm-down ",children:(0,k.jsxs)("div",{className:"modal-content",children:[(0,k.jsxs)("div",{className:"modal-header",children:[(0,k.jsx)("h5",{className:"modal-title",id:"setsupermodalLabel",children:"Set Supervisors"}),(0,k.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,k.jsxs)("div",{className:"modal-body",children:[(0,k.jsxs)("ul",{className:"nav nav-tabs ",children:[(0,k.jsx)("li",{className:"nav-item",children:(0,k.jsx)("div",{className:"nav-link active ","aria-current":"page",onClick:function(e){L(e),G(1)},children:"Users"})}),(0,k.jsx)("li",{className:"nav-item",children:(0,k.jsx)("div",{className:"nav-link ","aria-current":"page",onClick:function(e){L(e),G(2)},children:"Supervisors"})})]}),(0,k.jsxs)("table",{className:"table  text-center",children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{className:"table-dark",children:[(0,k.jsx)("th",{scope:"col",children:"Image"}),(0,k.jsx)("th",{scope:"col",children:"Name"}),(0,k.jsx)("th",{scope:"col",children:"Numbre"}),(0,k.jsx)("th",{scope:"col",children:1===A&&"Have Facilities"}),(0,k.jsx)("th",{scope:"col",children:" "})]})}),(0,k.jsx)("tbody",{children:1===A?(0,k.jsx)(k.Fragment,{children:y?(0,k.jsx)("h1",{children:"Loading"}):(0,k.jsx)(T,{})}):2===A?(0,k.jsx)(k.Fragment,{children:y?(0,k.jsx)("h1",{children:"Loading"}):(0,k.jsx)(R,{})}):(0,k.jsx)(k.Fragment,{})})]})]})]})})})})},F=function(e){e.info,e.setinfo;var s=e.reservations,a=(e.hereAfterReservations,e.sethereAfterReservations),n=(0,o.useContext)(v.Z).auth,t=(0,o.useState)(!1),i=(0,r.Z)(t,2),l=i[0],d=(i[1],(0,o.useState)(1)),c=(0,r.Z)(d,2),m=c[0],u=c[1],x=function(e){document.querySelectorAll(".nav-link").forEach((function(e){e.classList.remove("active")})),e.target.classList.add("active")},h=(new Date).toJSON().slice(0,19).split("T").join(" ");(0,o.useEffect)((function(){var e=null===s||void 0===s?void 0:s.filter((function(e){return e.booking_date>=h}));a(null===e||void 0===e?void 0:e.length)}));var p=function(){return(0,k.jsx)(k.Fragment,{children:s?s.map((function(e){return e.booking_date>=h?(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("tr",{className:"table-warning\n                    text-center",children:[(0,k.jsx)("td",{children:e.user_id}),(0,k.jsx)("td",{children:e.user_name}),(0,k.jsx)("td",{children:e.booking_date}),(0,k.jsx)("td",{children:e.number_of_people}),(0,k.jsxs)("td",{children:[e.price," ",n.acurrency_symb]}),(0,k.jsx)("td",{children:0===e.by_packge?"no":"yes"}),(0,k.jsx)("td",{children:e.note})]})}):(0,k.jsx)(k.Fragment,{})})):(0,k.jsx)(k.Fragment,{})})},j=function(){return(0,k.jsx)(k.Fragment,{children:s?s.map((function(e){return e.booking_date<h?(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("tr",{className:"table-info\n                    text-center",children:[(0,k.jsx)("td",{children:e.user_id}),(0,k.jsx)("td",{children:e.user_name}),(0,k.jsx)("td",{children:e.booking_date}),(0,k.jsx)("td",{children:e.number_of_people}),(0,k.jsxs)("td",{children:[e.price," ",n.acurrency_symb]}),(0,k.jsx)("td",{children:0===e.by_packge?"no":"yes"}),(0,k.jsx)("td",{children:e.note})]})}):(0,k.jsx)(k.Fragment,{})})):(0,k.jsx)(k.Fragment,{})})};return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:"modal fade reservations mt-5",id:"reservations","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"reservationsLabel","aria-hidden":"true",children:(0,k.jsx)("div",{className:"modal-dialog modal-xl modal-fullscreen-sm-down ",children:(0,k.jsxs)("div",{className:"modal-content",children:[(0,k.jsxs)("div",{className:"modal-header",children:[(0,k.jsx)("h3",{className:"modal-title",id:"reservationsLabel",children:"Reservations"}),(0,k.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,k.jsxs)("div",{className:"modal-body ",children:[(0,k.jsxs)("ul",{className:"nav nav-tabs ",children:[(0,k.jsx)("li",{className:"nav-item",children:(0,k.jsx)("div",{className:"nav-link active ","aria-current":"page",onClick:function(e){x(e),u(1)},children:"HereAfter"})}),(0,k.jsx)("li",{className:"nav-item",children:(0,k.jsx)("div",{className:"nav-link ","aria-current":"page",onClick:function(e){x(e),u(2)},children:"Finished"})})]}),(0,k.jsxs)("table",{className:"table  text-center",children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{className:"table-dark",children:[(0,k.jsx)("th",{scope:"col",children:"User Id"}),(0,k.jsx)("th",{scope:"col",children:"User Name"}),(0,k.jsx)("th",{scope:"col",children:"Date"}),(0,k.jsx)("th",{scope:"col",children:"Persons"}),(0,k.jsx)("th",{scope:"col",children:"Price"}),(0,k.jsx)("th",{scope:"col",children:"From A package"}),(0,k.jsx)("th",{scope:"col",children:"Note"})]})}),(0,k.jsx)("tbody",{children:1===m?(0,k.jsx)(k.Fragment,{children:l?(0,k.jsx)("h1",{children:"Loading"}):(0,k.jsx)(p,{})}):2===m?(0,k.jsx)(k.Fragment,{children:l?(0,k.jsx)("h1",{children:"Loading"}):(0,k.jsx)(j,{})}):(0,k.jsx)(k.Fragment,{})})]})]})]})})})})},S=function(e){var s,a,n,c,m,u,p=e.id,j=e.info,b=e.setinfo,N=e.plans,y=(0,d.s0)(),_=(0,o.useContext)(v.Z),Z=_.auth,w=_.setAuth,C=(0,o.useState)(!1),F=(0,r.Z)(C,2),S=F[0],A=F[1],G=(0,o.useState)(!1),L=(0,r.Z)(G,2),T=L[0],R=L[1],I=(0,o.useState)(""),P=(0,r.Z)(I,2),U=P[0],E=P[1],D=(0,o.useState)(null),z=(0,r.Z)(D,2),B=z[0],M=z[1],Y=function(){var e=(0,l.Z)((0,t.Z)().mark((function e(s,a){var n,l,r,o,d,c,m;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Z.abalance<a)){e.next=5;break}R(!1),E("Your current E-wallet balance is not enough"),e.next=24;break;case 5:return A(!0),(n=new FormData).append("fasilites_id",p),n.append("month",s),n.append("type","res"),e.prev=10,e.next=13,g.Z.post("/api/subscribe",n,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(Z.atoken)},withCredentials:!0});case 13:l=e.sent,console.log(l.data),A(!1),1===l.data.status&&(M(+l.data.money_in_wallet.toFixed(2)),b((0,i.Z)((0,i.Z)({},j),{},{available_to:l.data.availabel_tob})),R(!0),E("You Plan is successfully upgraded , Your New Balance is ".concat(l.data.money_in_wallet.toFixed(2)," ").concat(Z.acurrency_symb))),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(10),A(!1),R(!1),null!==e.t0&&void 0!==e.t0&&e.t0.message?0===(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.status)?(E(e.t0.message),console.log(U)):400===(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o?void 0:o.status)?(3===(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c||null===(m=c.data)||void 0===m?void 0:m.status)&&(w((0,i.Z)((0,i.Z)({},Z),{},{ablocked:0})),y("/blocked")),E(e.t0.response.data.message),console.log(U)):401===(null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d?void 0:d.status)?(E(e.t0.response.data.message),console.log(U)):(E("Edit Profile Failed"),console.log(e.t0)):(E("No Server Response"),console.log("No Server Response"));case 24:case"end":return e.stop()}}),e,null,[[10,19]])})));return function(s,a){return e.apply(this,arguments)}}();return(0,k.jsxs)(k.Fragment,{children:[S&&(0,k.jsx)(f.Z,{}),(null===N||void 0===N?void 0:N.length)>0&&(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:"modal fade mt-5 mt-sm-0",id:"billingmodal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"billingmodalLabel","aria-hidden":"true",children:(0,k.jsx)("div",{className:"modal-dialog modal-xl  billingsplans ",children:(0,k.jsxs)("div",{className:"modal-content",children:[(0,k.jsxs)("div",{className:"modal-header",children:[(0,k.jsx)("div",{className:"modal-title",id:"billingmodalLabel",children:"Trip Tips Plans"}),(0,k.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:function(){null!=B&&w((0,i.Z)((0,i.Z)({},Z),{},{abalance:+B.toFixed(2)})),R(!1)}})]}),(0,k.jsx)("div",{className:"modal-body",children:(0,k.jsxs)("div",{className:"row ",children:[(0,k.jsx)("div",{className:"col-10 col-md-6 col-lg-5 col-xl-3 mx-auto",children:(0,k.jsxs)("div",{className:" card-config free-trail position-relative",children:[(0,k.jsxs)("span",{className:"position-absolute  translate-middle fs-5 badge rounded-pill bg-danger",children:["100%",(0,k.jsx)("sup",{children:"off"}),(0,k.jsx)("span",{className:"visually-hidden",children:"unread messages"})]}),(0,k.jsxs)("div",{className:"text-box",children:[(0,k.jsx)("div",{className:"title",children:"Free Trail "}),(0,k.jsx)("div",{className:"desc text-center",children:"Temporary free service for new places"}),(0,k.jsx)("hr",{}),(0,k.jsx)("div",{className:"fetuars",children:(0,k.jsx)("span",{className:"fetuars",children:"mange your place for Free"})}),(0,k.jsx)("hr",{}),(0,k.jsxs)("div",{className:"date",children:[(0,k.jsx)("span",{className:"fetuars",children:"Period:"})," a month"]}),(0,k.jsx)("hr",{}),(0,k.jsx)("div",{className:"price  position-relative my-2",children:"Free"}),(0,k.jsx)("hr",{}),(0,k.jsx)("div",{className:"more",children:(0,k.jsx)("button",{type:"button",disabled:!0,children:"Already Used"})})]})]})}),(0,k.jsx)("div",{className:"col-10 col-md-6 col-lg-5 col-xl-3 mx-auto",children:(0,k.jsxs)("div",{className:" card-config monthly position-relative",children:[(0,k.jsxs)("span",{className:"position-absolute  translate-middle fs-5 badge rounded-pill bg-danger",children:["most used",(0,k.jsx)("span",{className:"visually-hidden",children:"unread messages"})]}),(0,k.jsxs)("div",{className:"text-box",children:[(0,k.jsx)("div",{className:"title",children:"Monthly "}),(0,k.jsx)("div",{className:"desc text-center",children:"a 30 days of full control and services"}),(0,k.jsx)("hr",{}),(0,k.jsx)("div",{className:"fetuars",children:(0,k.jsx)("span",{className:"fetuars",children:"Most wanted and used plan"})}),(0,k.jsx)("hr",{}),(0,k.jsxs)("div",{className:"date",children:[(0,k.jsx)("span",{className:"fetuars",children:"Period:"})," a"," ",null===(s=N[0])||void 0===s?void 0:s.name]}),(0,k.jsx)("hr",{}),(0,k.jsxs)("div",{className:"price  position-relative my-2",children:[null===(a=N[0])||void 0===a?void 0:a.price.toFixed(2)," ",Z.acurrency_symb]}),(0,k.jsx)("hr",{}),(0,k.jsx)("div",{className:"more",children:(0,k.jsx)("button",{className:"",onClick:function(){var e;Y(1,null===(e=N[0])||void 0===e?void 0:e.price.toFixed(2))},type:"button",children:"Upgrade"})})]})]})}),(0,k.jsx)("div",{className:"col-10 col-md-6 col-lg-5 col-xl-3 mx-auto",children:(0,k.jsxs)("div",{className:" card-config seasonly position-relative",children:[(0,k.jsxs)("span",{className:"position-absolute  translate-middle fs-5 badge rounded-pill bg-danger",children:["16%",(0,k.jsx)("sup",{children:"Off"}),(0,k.jsx)("span",{className:"visually-hidden",children:"unread messages"})]}),(0,k.jsxs)("div",{className:"text-box",children:[(0,k.jsx)("div",{className:"title",children:" seasonly "}),(0,k.jsx)("div",{className:"desc text-center",children:"a 180 days of full control and services"}),(0,k.jsx)("hr",{}),(0,k.jsx)("div",{className:"fetuars",children:(0,k.jsx)("span",{className:"fetuars",children:"Comfortable and exellant plan"})}),(0,k.jsx)("hr",{}),(0,k.jsxs)("div",{className:"date",children:[(0,k.jsx)("span",{className:"fetuars",children:"Period:"})," ",null===(n=N[0])||void 0===n?void 0:n.name]}),(0,k.jsx)("hr",{}),(0,k.jsxs)("div",{className:"price  position-relative my-2",children:[null===(c=N[1])||void 0===c?void 0:c.price.toFixed(2)," ",Z.acurrency_symb]}),(0,k.jsx)("hr",{}),(0,k.jsx)("div",{className:"more",children:(0,k.jsx)("button",{className:"",onClick:function(){var e;Y(6,null===(e=N[1])||void 0===e?void 0:e.price.toFixed(2))},type:"button",children:"Upgrade"})})]})]})}),(0,k.jsx)("div",{className:"col-10 col-md-6 col-lg-5 col-xl-3 mx-auto",children:(0,k.jsxs)("div",{className:" card-config annual position-relative",children:[(0,k.jsxs)("span",{className:"position-absolute  translate-middle fs-5 badge rounded-pill bg-danger",children:["33%",(0,k.jsx)("sup",{children:"off"}),(0,k.jsx)("span",{className:"visually-hidden",children:"unread messages"})]}),(0,k.jsxs)("div",{className:"text-box",children:[(0,k.jsx)("div",{className:"title",children:"Annual"}),(0,k.jsx)("div",{className:"desc text-center",children:"A fulll year of full control and discount up to 33%"}),(0,k.jsx)("hr",{}),(0,k.jsx)("div",{className:"fetuars",children:(0,k.jsx)("span",{className:"fetuars",children:"the best choice and most savings plan"})}),(0,k.jsx)("hr",{}),(0,k.jsxs)("div",{className:"date",children:[(0,k.jsx)("span",{className:"fetuars",children:"Period:"})," ",null===(m=N[0])||void 0===m?void 0:m.name]}),(0,k.jsx)("hr",{}),(0,k.jsxs)("div",{className:"price  position-relative my-2",children:[null===(u=N[2])||void 0===u?void 0:u.price.toFixed(2)," ",Z.acurrency_symb]}),(0,k.jsx)("hr",{}),(0,k.jsx)("div",{className:"more",children:(0,k.jsx)("button",{className:"",onClick:function(){var e;Y(12,null===(e=N[2])||void 0===e?void 0:e.price.toFixed(2))},type:"button",children:"Upgrade"})})]})]})})]})}),(0,k.jsxs)("div",{className:"modal-footer ",children:[(0,k.jsxs)("div",{className:"col-12 text-center ".concat(T&&"d-none"),children:["Your E-wallet balance is : ",Z.abalance.toFixed(2),Z.acurrency_symb]}),U&&(0,k.jsxs)("div",{className:"alert col-8 mx-auto alert-".concat(T?"success":"danger"," d-flex align-items-center col-6  mx-auto server-error"),role:"alert",children:[(0,k.jsx)(x.G,{icon:T?h.f8k:h.eHv,className:"bi  me-2 ",width:"25",height:"25",role:"img","aria-label":"Danger:"}),(0,k.jsx)("div",{className:"text-center fs-5",children:U})]})]})]})})})})]})},A=function(e){var s=e.info,a=e.hereAfterReservations,n=(0,d.s0)(),c=(0,o.useContext)(v.Z),m=c.auth,u=c.setAuth,p=(0,o.useState)(!1),j=(0,r.Z)(p,2),b=(j[0],j[1]),f=(0,o.useState)(""),N=(0,r.Z)(f,2),y=(N[0],N[1]),_=function(){var e=(0,l.Z)((0,t.Z)().mark((function e(){var a,l,r,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("restaurant_id",null===s||void 0===s?void 0:s.id),b(!0),e.prev=3,e.next=6,g.Z.post("/api/delete_res",a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(m.atoken)},withCredentials:!0});case 6:l=e.sent,b(!1),console.log(l.data),1===l.data.status&&n("/home"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),b(!1),3===(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.status)&&(u((0,i.Z)((0,i.Z)({},m),{},{ablocked:0})),n("/blocked")),null!==e.t0&&void 0!==e.t0&&e.t0.message&&(y(e.t0.response.data.message),console.log(e.t0.response));case 17:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}();return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:"modal fade mt-5 mt-sm-0",id:"revokecontract","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"revokecontractLabel","aria-hidden":"true",children:(0,k.jsx)("div",{className:"modal-dialog  modal-lg",children:(0,k.jsxs)("div",{className:"modal-content",children:[(0,k.jsxs)("div",{className:"modal-header",children:[(0,k.jsx)("h5",{className:"modal-title",id:"revokecontractLabel",children:"Are You Sure You want to revoke this place contract?"}),(0,k.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,k.jsx)("div",{className:"modal-body",children:a>0?(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:"alert alert-warning d-flex align-items-center",role:"alert",children:[(0,k.jsx)(x.G,{className:" flex-shrink-0 me-2 fs-5",icon:h.e7M}),(0,k.jsx)("h4",{className:"alert-heading me-3",children:"Warning"}),(0,k.jsx)("hr",{}),(0,k.jsxs)("div",{children:["sorry, ...",(0,k.jsx)("br",{})," but you can not revoke the contract right now because of existing a reservations on your place",(0,k.jsx)("br",{})," (from users or maybe from a package)",(0,k.jsx)("br",{}),"freze your place reservations or contact with support team"," ",(0,k.jsx)("br",{}),(0,k.jsx)("hr",{}),(0,k.jsx)("b",{children:"The condition above is According to trip tips terms and conditions,"})]})]})}):(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:"alert alert-danger d-flex align-items-center",role:"alert",children:[(0,k.jsx)(x.G,{className:" flex-shrink-0 me-2 fs-5",icon:h.e7M}),(0,k.jsx)("h4",{className:"alert-heading me-3",children:"Warning"}),(0,k.jsx)("hr",{}),(0,k.jsxs)("div",{children:["If you revoke the contract you will lose everythings that related to this place and lose your attribute like a manger of it , the supervisors will also do ...",(0,k.jsx)("br",{}),(0,k.jsx)("hr",{}),(0,k.jsx)("b",{children:"According to trip tips terms and conditions, no financial value may be returned from the remaining contract !!"})]})]})})}),(0,k.jsxs)("div",{className:"modal-footer",children:[(0,k.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",children:"Discard"}),(0,k.jsx)("button",{type:"button",className:"btn btn-danger ".concat(a>0&&"d-none"),"data-bs-dismiss":"modal",onClick:_,children:"Revoke"})]})]})})})})};s.default=function(){var e,s,a,n,j,b=(0,d.s0)(),y=(0,d.UO)().id,G=(0,o.useContext)(v.Z),L=G.auth,T=G.setAuth,R=(0,o.useState)(!1),I=(0,r.Z)(R,2),P=I[0],U=I[1],E=(0,o.useState)({}),D=(0,r.Z)(E,2),z=D[0],B=D[1],M=(0,o.useState)(!1),Y=(0,r.Z)(M,2),O=(Y[0],Y[1]),K=(0,o.useState)(""),q=(0,r.Z)(K,2),H=(q[0],q[1]),W=(0,o.useState)(!0),$=(0,r.Z)(W,2),J=$[0],V=$[1],Q=(0,o.useState)(1),X=(0,r.Z)(Q,2),ee=X[0],se=X[1],ae=(0,o.useState)(0),ne=(0,r.Z)(ae,2),te=ne[0],ie=ne[1],le=function(){var e=(0,l.Z)((0,t.Z)().mark((function e(s){var a,n,l,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("restaurant_id",z.id),O(!0),e.prev=3,e.next=6,g.Z.post("/api/booking_freeze_res",a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(L.atoken)},withCredentials:!0});case 6:n=e.sent,console.log(n.data.message),O(!1),U(!P),1===n.data.status&&V(!J),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),O(!1),3===(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.status)&&(T((0,i.Z)((0,i.Z)({},L),{},{ablocked:0})),b("/blocked")),null!==e.t0&&void 0!==e.t0&&e.t0.message&&(H(e.t0.response.data.message),console.log(e.t0.response));case 18:V(!J);case 19:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(s){return e.apply(this,arguments)}}(),re=(0,c.Tu)("/api/Restaurant_info",P,["restaurant_id"],[y]),oe=re.data,de=re.fetchError;(0,o.useEffect)((function(){var e,s;0===(null===de||void 0===de||null===(e=de.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.status)&&se(0)}),[de]),(0,o.useEffect)((function(){B((0,i.Z)({},null===oe||void 0===oe?void 0:oe.restaurant))}),[null===oe||void 0===oe?void 0:oe.restaurant]);var ce,me=null===L||void 0===L||null===(e=L.arestaurant_role)||void 0===e?void 0:e.filter((function(e){return e.restaurant_id===+y}));(null===me||void 0===me?void 0:me.length)>0?ce=me[0].role_facilities_id:b("/home");var ue=(0,c.Tu)("/api/user_without_super_res",P,["restaurant_id"],[y]),xe=ue.data,he=ue.isLoading,pe=(0,c.ek)("/api/Subscribe_price").data,ve=(0,c.Tu)("/api/Show_bookings_Resturant",P,["restaurant_id"],[y]).data,je=function(){var e=(0,l.Z)((0,t.Z)().mark((function e(s){var a,n,l,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("user_id",s),a.append("restaurant_id",z.id),O(!0),e.prev=4,e.next=7,g.Z.post("/api/delete_supervisor_res",a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(L.atoken)},withCredentials:!0});case 7:n=e.sent,console.log(n.data),O(!1),U(!P),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),O(!1),3===(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.status)&&(T((0,i.Z)((0,i.Z)({},L),{},{ablocked:0})),b("/blocked")),null!==e.t0&&void 0!==e.t0&&e.t0.message&&(H(e.t0.response.data.message),console.log(e.t0.response));case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(s){return e.apply(this,arguments)}}(),ge=0;return(0,k.jsxs)(k.Fragment,{children:[he&&(0,k.jsx)(f.Z,{}),0===ee?(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(_,{})}):(0,k.jsxs)(k.Fragment,{children:[null===z||void 0===z||null===(s=z.images)||void 0===s?void 0:s.map((function(e){return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(Z,{id:e.id,img:e.img,info:z,setinfo:B,userRole:ce},e.id)})})),(null===z||void 0===z?void 0:z.name)&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(w,{info:z,setinfo:B}),(0,k.jsx)(C,{userRole:ce,AllUserss:xe,AllSupers:null===z||void 0===z?void 0:z.roles,info:z,setinfo:B,flag:P,setflag:U,placeId:y}),(0,k.jsx)(F,{info:z,setinfo:B,reservations:null===ve||void 0===ve?void 0:ve.bookings,hereAfterReservations:te,sethereAfterReservations:ie}),(0,k.jsx)(S,{id:y,info:z,setinfo:B,plans:null===pe||void 0===pe?void 0:pe.Subscribe_info}),(0,k.jsx)(A,{info:z,hereAfterReservations:te}),(0,k.jsxs)(N.E.div,{className:"contanier-fluid mange-resturant",initial:{width:0,opacity:0},animate:{width:"100%",opacity:1},exit:{opacity:0,transition:{duration:.3}},children:[(0,k.jsxs)("div",{className:"row offset-1 mt-5 mt-sm-2",children:[(0,k.jsx)("div",{className:"col-2 mt-2",children:(0,k.jsx)(x.G,{className:"back-icon",icon:h.Lh7,onClick:function(){b(-1)}})}),(0,k.jsx)("div",{className:"title text-center col-7",children:null===z||void 0===z?void 0:z.name}),(0,k.jsx)("div",{className:"col-2"})]}),(0,k.jsx)("div",{className:"row place-images ms-sm-4 ms-md-0",children:(0,k.jsx)(u.tq,{effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",allowSlideNext:!0,allowSlidePrev:!0,navigation:!0,slidesPerGroup:1,coverflowEffect:{rotate:20,depth:200,stretch:0,modifier:1,slideShadows:!0},modules:[m.lI,m.W_],className:"mySwiper col-10",children:null===z||void 0===z||null===(a=z.images)||void 0===a?void 0:a.map((function(e){return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(u.o5,{"data-bs-toggle":"modal","data-bs-target":"#resturantImag-".concat(e.id),children:(0,k.jsx)("img",{src:e.img,alt:"..."})},e.id)})}))})}),(0,k.jsxs)("div",{className:"row offset-sm-1 offset-md-2 offset-xl-1",children:[(0,k.jsx)("div",{className:"col-11 ms-3 ms-md-0  offset-sm-1 offset-md-0 col-md-6 col-xl-3",children:(0,k.jsxs)("div",{className:"row mt-5",children:[(0,k.jsxs)("div",{className:"col-12 superfie-box",children:[(0,k.jsx)("div",{className:"sub-title",children:"Supervisors"}),(0,k.jsx)("hr",{className:"col-12"}),(0,k.jsx)(u.tq,{effect:"cards",grabCursor:!0,modules:[m.c4],className:"mySwiper",children:null===z||void 0===z||null===(n=z.roles)||void 0===n?void 0:n.map((function(e){return(0,k.jsx)(u.o5,{children:(0,k.jsxs)("div",{className:"supervisors-card row g-0",children:[(0,k.jsx)("div",{className:"img-box  ",children:(0,k.jsx)("img",{src:e.worker_img,alt:"..."})}),(0,k.jsxs)("div",{className:"infor-box ",children:[(0,k.jsx)("div",{className:"name",children:e.worker_name}),(0,k.jsxs)("div",{className:"phone",children:[(0,k.jsx)(x.G,{className:"me-2",icon:h.Cv1}),e.role_facilities_name]}),(0,k.jsxs)("div",{className:"phone",children:[(0,k.jsx)(x.G,{className:"me-2",icon:h.j1w}),e.worker_phone]}),1===ce&&(0,k.jsx)("div",{className:"remove  ".concat("manager"===e.role_facilities_name&&"d-none"),onClick:function(){je(e.user_id)},children:(0,k.jsx)("span",{type:"button",disabled:"manager"===e.role_facilities_name&&!0,onDoubleClick:function(){console.log(1)},children:"Remove"})})]})]})})}))})]}),(0,k.jsxs)("div",{className:"col-12 earnings-box mt-2",children:[(0,k.jsx)("div",{className:"sub-title",children:"earnings"}),(0,k.jsx)("hr",{className:"col-12"}),(0,k.jsxs)("div",{className:"earnings-content",children:[(0,k.jsx)("div",{className:"money-icon",children:(0,k.jsx)(x.G,{className:"",icon:1===ce?h.LjC:h.byT})}),(0,k.jsxs)("div",{className:"earnings ".concat(1!==ce&&"d-none"),children:[null===ve||void 0===ve||null===(j=ve.bookings)||void 0===j?void 0:j.map((function(e){ge+=+e.price})),ge.toFixed(2)," ",L.acurrency_symb]})]})]})]})}),(0,k.jsxs)("div",{className:"col-11  offset-1 offset-md-0 col-md-10 col-xl-5 info-box mt-5 order-first order-xl-0",children:[(0,k.jsxs)("div",{className:"title",children:[null===z||void 0===z?void 0:z.name," Info"]}),(0,k.jsx)("hr",{className:"col-12"}),1===(null===z||void 0===z?void 0:z.freeze)?(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,k.jsx)("h4",{className:"alert-heading",children:"Your place is disabled"}),(0,k.jsx)("p",{children:"this place is disabled and hide from trip tips app because of ending the contract date or maybe an admin has been disabled it"}),(0,k.jsx)("hr",{className:"red-hr"}),(0,k.jsx)("p",{className:"mb-0",children:"please upgrade your contract plan or if it's already upgraded contact with our help center and ask them about the reason."})]})}):(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:"info-content w-100",children:[(0,k.jsx)("div",{className:"desc text-center",children:null===z||void 0===z?void 0:z.description}),(0,k.jsxs)("div",{className:"rate text-center",children:[(0,k.jsx)(x.G,{icon:(null===z||void 0===z?void 0:z.rate)>=1?h.Tab:p.Tab}),(0,k.jsx)(x.G,{icon:(null===z||void 0===z?void 0:z.rate)>=2?h.Tab:p.Tab}),(0,k.jsx)(x.G,{icon:(null===z||void 0===z?void 0:z.rate)>=3?h.Tab:p.Tab}),(0,k.jsx)(x.G,{icon:(null===z||void 0===z?void 0:z.rate)>=4?h.Tab:p.Tab}),(0,k.jsx)(x.G,{icon:5===(null===z||void 0===z?void 0:z.rate)?h.Tab:p.Tab})]}),(0,k.jsxs)("div",{className:"catAndprice",children:[(0,k.jsxs)("div",{className:"category ",children:[(0,k.jsx)(x.G,{className:"icon",icon:h.j0x}),(0,k.jsx)("div",{children:null===z||void 0===z?void 0:z.category_name})]}),(0,k.jsxs)("div",{className:" booking-price",children:[(0,k.jsx)(x.G,{className:"icon",icon:h.aLp}),(0,k.jsxs)("div",{children:[null===z||void 0===z?void 0:z.price_booking.toFixed(2)," ",L.acurrency_symb]})]})]}),(0,k.jsxs)("div",{className:"  location",children:[(0,k.jsx)(x.G,{className:"icon",icon:h.Yif}),(0,k.jsx)("div",{children:null===z||void 0===z?void 0:z.location})]})]})}),(0,k.jsx)("hr",{className:"col-10 text-center mt-3"}),(0,k.jsxs)("div",{className:"end-date",children:[(0,k.jsx)("h4",{children:"Contract Expiration date"}),(0,k.jsx)("h3",{className:"text-center",children:null===z||void 0===z?void 0:z.available_to})]})]}),(0,k.jsxs)("div",{className:"col-11 offset-1 offset-md-0 col-md-5 col-xl-3 mange-shortcuts mt-5",children:[(0,k.jsxs)("div",{className:"sub-title",children:[1===ce?"manger":"supervisor"," Shouruts"]}),(0,k.jsx)("hr",{className:"col-12 text-center mt-1"}),(0,k.jsxs)("div",{className:"shotsbox",children:[(0,k.jsxs)("div",{className:"shourtcut","data-bs-toggle":"modal","data-bs-target":"#reservations",children:[(0,k.jsx)(x.G,{className:"icon",icon:h.u7T}),(0,k.jsx)("div",{children:"Reservations"})]}),1===ce&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"shourtcut","data-bs-toggle":"modal","data-bs-target":"#editInformation",children:[(0,k.jsx)(x.G,{className:"icon",icon:h.qLl}),(0,k.jsx)("div",{children:"Edit Info"})]}),(0,k.jsxs)("div",{className:"shourtcut","data-bs-toggle":"modal","data-bs-target":"#setsupermodal",children:[(0,k.jsx)(x.G,{className:"icon",icon:h.Mvz}),(0,k.jsx)("div",{children:"Set Supervisors"})]}),(0,k.jsxs)("div",{className:"shourtcut","data-bs-toggle":"modal","data-bs-target":"#billingmodal",children:[(0,k.jsx)(x.G,{className:"icon",icon:h.otv}),(0,k.jsx)("div",{children:"Billing Plans"})]}),(0,k.jsxs)("div",{className:"shourtcut","data-bs-toggle":"modal","data-bs-target":"#",onClick:function(){le(null===z||void 0===z?void 0:z.id)},children:[(0,k.jsx)(x.G,{className:"icon",icon:J?h.oD0:h.iiS}),(0,k.jsx)("div",{children:J?"Temporarily suspending reservations":"start bookings"})]}),(0,k.jsxs)("div",{className:"shourtcut","data-bs-toggle":"modal","data-bs-target":"#revokecontract",children:[(0,k.jsx)(x.G,{className:"icon",icon:h.uoY}),(0,k.jsx)("div",{children:"Revoke contract"})]})]})]})]})]})]})]})]})]})}}}]);