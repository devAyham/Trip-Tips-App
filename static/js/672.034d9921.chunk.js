"use strict";(self.webpackChunktrip_tips_project=self.webpackChunktrip_tips_project||[]).push([[672],{2672:function(e,s,a){a.r(s);var n=a(2982),l=a(4925),t=a(4165),i=a(1413),o=a(5861),r=a(885),c=a(7313),d=a(7890),m=a(5276),u=a(8654),h=a(2783),x=a(1969),p=a(935),v=a(1875),j=a(3124),g=a(5627),f=a(3757),b=a(4243),N=a(4704),y=a(7979),_=a(4491),Z=a(6417),k=["name","rate","location","support_email","img_title_deed","category","descriprion","images"],w=function(){return(0,Z.jsx)("div",{className:"row notAceptable pt-5 ",children:(0,Z.jsx)("div",{className:"col-10 col-md-6 content m-auto ",children:(0,Z.jsxs)("div",{className:"alert alert-warning",role:"alert",children:[(0,Z.jsx)("h4",{className:"alert-heading",children:"this place is not acceptable yet "}),(0,Z.jsxs)("p",{children:["your request is rigestered in our database and waiting the support team to accept or reject it ,",(0,Z.jsx)("br",{}),"so please try agian later we will send for you a message on your mail address soon"]}),(0,Z.jsx)("hr",{}),(0,Z.jsx)("p",{className:"mb-0",children:"after accepting your place you will have a free trail for management and full control on your place"})]})})})},C=function(e){var s=e.id,a=e.img,n=e.info,l=e.setinfo,m=e.userRole,u=(0,d.s0)(),h=(0,c.useContext)(j.Z),x=h.auth,p=h.setAuth,v=(0,c.useState)(!1),g=(0,r.Z)(v,2),b=g[0],y=g[1],_=(0,c.useState)(""),k=(0,r.Z)(_,2),w=k[0],C=k[1],F=(0,c.useState)(!1),S=(0,r.Z)(F,2),A=(S[0],S[1]),G=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(){var a,o,r,c,d,m,h,v;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),(a=new FormData).append("image_id",s),a.append("hotel_id",n.id),e.prev=4,e.next=7,f.Z.post("/api/remove_Hotel_image",a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(x.atoken)},withCredentials:!0});case 7:o=e.sent,console.log(o.data),y(!1),1===o.data.status&&(r=n.images.filter((function(e){return e.id!==s&&e})),l((0,i.Z)((0,i.Z)({},n),{},{images:r}))),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),y(!1),A(!1),null!==e.t0&&void 0!==e.t0&&e.t0.message?0===(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.status)?(C(e.t0.message),console.log(w)):400===(null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d?void 0:d.status)?(3===(null===e.t0||void 0===e.t0||null===(h=e.t0.response)||void 0===h||null===(v=h.data)||void 0===v?void 0:v.status)&&(p((0,i.Z)((0,i.Z)({},x),{},{ablocked:0})),u("/blocked")),C(e.t0.response.data.message),console.log(w)):401===(null===e.t0||void 0===e.t0||null===(m=e.t0.response)||void 0===m?void 0:m.status)?(C(e.t0.response.data.message),console.log(w)):(C("Edit Profile Failed"),console.log(e.t0)):(C("No Server Response"),console.log("No Server Response"));case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}();return(0,Z.jsxs)(Z.Fragment,{children:[b&&(0,Z.jsx)(N.Z,{}),(0,Z.jsx)("div",{className:"modal fade resturantImagmoal mt-5 mt-sm-0",id:"hotelImagee-".concat(s),tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,Z.jsx)("div",{className:"modal-dialog modal-lg",children:(0,Z.jsxs)("div",{className:"modal-content",children:[(0,Z.jsxs)("div",{className:"modal-header",children:[(0,Z.jsx)("h3",{className:"modal-title ",id:"exampleModalLabel",children:"hotel Image"}),(0,Z.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,Z.jsx)("div",{className:"modal-body userimageinsidemodel",children:(0,Z.jsx)("img",{className:"img",src:a,alt:"..."})}),(0,Z.jsxs)("div",{className:"modal-footer",children:[(0,Z.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),1===m&&(0,Z.jsx)("button",{type:"button",className:"btn btn-danger","data-bs-dismiss":"modal",onClick:function(){G(s)},children:"Remove Photo"})]})]})})})]})},F=function(e){var s,a,u=e.info,h=e.setInfo,v=(0,d.s0)(),y=(0,c.useContext)(j.Z),w=y.auth,C=y.setAuth,F=(0,c.useState)(!1),S=(0,r.Z)(F,2),A=S[0],G=S[1],L=(0,c.useState)(""),T=(0,r.Z)(L,2),I=T[0],R=T[1],P=(0,c.useState)(!1),U=(0,r.Z)(P,2),E=(U[0],U[1]),M=(0,c.useState)(!1),D=(0,r.Z)(M,2),z=D[0],B=D[1],q=(0,c.useState)(null===u||void 0===u||null===(s=u.classes)||void 0===s?void 0:s.length),Y=(0,r.Z)(q,2),O=Y[0],H=Y[1],K=(0,m.ek)("/api/getHotelCategory"),W=K.data,J=K.isLoading,X=(0,g.cI)(),$=X.register,V=X.handleSubmit,Q=X.formState.errors,ee=X.trigger,se=X.reset,ae=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(s){var a,o,r,c,d,m,x,p,j,g,b,N,y,Z,F,S,A,L,T,P,U,M,D,z,B;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=s.name,o=s.rate,r=s.location,c=s.support_email,s.img_title_deed,d=s.category,m=s.descriprion,x=s.images,p=(0,l.Z)(s,k),(j=new FormData).append("hotel_id",u.id),a&&j.append("name",a),o&&j.append("rate",o),r&&j.append("location",r),d&&j.append("category_id",d),c&&j.append("support_email",c),m&&j.append("description",m),0!==x.length&&(0,n.Z)(Object.values(x)).forEach((function(e){j.append("img[]",e)})),g=[],b=[],N=[],0!==(y=(0,n.Z)(Object.values(p))).length){for(Z=0;Z<O;Z++)g.push(y[3*Z]),b.push(y[3*Z+1]),N.push(y[3*Z+2]);for(F=0;F<O;F++)j.append("names[".concat(F,"]"),g[F]),j.append("classes[".concat(F,"]"),b[F]),j.append("number_of_people[".concat(F,"]"),N[F])}return G(!0),e.prev=16,e.next=19,f.Z.post("/api/update_info_hot",j,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(w.atoken)},withCredentials:!0});case 19:S=e.sent,console.log(S.data),G(!1),E(!0),_.Am.success("Edit Success",{autoClose:1e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1}),1===S.data.status&&(se(),h((0,i.Z)((0,i.Z)({},u),S.data))),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(16),G(!1),null!==e.t0&&void 0!==e.t0&&e.t0.message?0===(null===e.t0||void 0===e.t0||null===(A=e.t0.response)||void 0===A?void 0:A.status)?(R(e.t0.response.data.message),console.log(I)):400===(null===e.t0||void 0===e.t0||null===(L=e.t0.response)||void 0===L?void 0:L.status)?(0===(null===e.t0||void 0===e.t0||null===(P=e.t0.response)||void 0===P||null===(U=P.data)||void 0===U?void 0:U.status)&&(R(null===e.t0||void 0===e.t0||null===(z=e.t0.response)||void 0===z||null===(B=z.data)||void 0===B?void 0:B.message),_.Am.error("Faild: Image Is Invalid ",{autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1})),3===(null===e.t0||void 0===e.t0||null===(M=e.t0.response)||void 0===M||null===(D=M.data)||void 0===D?void 0:D.status)&&(C((0,i.Z)((0,i.Z)({},w),{},{ablocked:0})),v("/blocked")),R(e.t0.response.data.message),console.log(I)):401===(null===e.t0||void 0===e.t0||null===(T=e.t0.response)||void 0===T?void 0:T.status)?(R(e.t0.response.data.message),console.log(I)):(R("Add Package Failed"),console.log(e.t0)):(R("No Server Response"),console.log("No Server Response"));case 31:case"end":return e.stop()}}),e,null,[[16,27]])})));return function(s){return e.apply(this,arguments)}}(),ne=function(e){var s=e.id,a=e.class_name,n=void 0===a?"":a,l=e.price,t=void 0===l?null:l,o=e.people,d=void 0===o?"":o,m=(0,c.useState)(n),u=(0,r.Z)(m,2),h=u[0],v=u[1],j=(0,c.useState)(null===t||void 0===t?void 0:t.toFixed(2)),g=(0,r.Z)(j,2),f=g[0],b=g[1],y=(0,c.useState)(d),_=(0,r.Z)(y,2),k=_[0],C=_[1];return(0,Z.jsxs)(Z.Fragment,{children:[(A||J)&&(0,Z.jsx)(N.Z,{}),(0,Z.jsx)("div",{className:"col-4",children:(0,Z.jsxs)("div",{className:"input-group input-group-lg  mb-1  ",children:[(0,Z.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,Z.jsx)(x.G,{icon:p.JTi})}),(0,Z.jsx)("input",(0,i.Z)((0,i.Z)({type:"text",className:"form-control filed \n                                        ".concat(Q["names-".concat(s)]&&"invalid")},$("names-".concat(s),{required:"Class Name is Required"})),{},{value:h,placeholder:"class name",onChange:function(){B(!0),v()}})),Q["names-".concat(s)]&&(0,Z.jsx)("small",{className:"text-danger",children:Q["names-".concat(s)].message})]})}),(0,Z.jsx)("div",{className:"col-5",children:(0,Z.jsxs)("div",{className:"input-group input-group-lg  mb-1 ",children:[(0,Z.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,Z.jsx)(x.G,{icon:p.aLp})}),(0,Z.jsx)("input",(0,i.Z)((0,i.Z)({type:"number",className:"form-control filed \n                                        ".concat(Q["classes-".concat(s)]&&"invalid")},$("classes-".concat(s),{required:"Price is Required",min:{value:1,message:"Minimum Booking Price is 1"},max:{value:1e6,message:"Maximum Booking Price is 1000000 "}})),{},{placeholder:"price",value:f,onChange:function(){b(),B(!0)}})),(0,Z.jsx)("span",{className:"input-group-text fs-5 filed filed-icon ",children:w.acurrency_symb}),Q["classes-".concat(s)]&&(0,Z.jsx)("small",{className:"text-danger",children:Q["classes-".concat(s)].message})]})}),(0,Z.jsx)("div",{className:"col-3",children:(0,Z.jsxs)("div",{className:"input-group input-group-lg  mb-1 ",children:[(0,Z.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,Z.jsx)(x.G,{icon:p.Xhk})}),(0,Z.jsx)("input",(0,i.Z)((0,i.Z)({type:"number",className:"form-control filed \n                                              ".concat(Q["number_of_people-".concat(s)]&&"invalid")},$("number_of_people-".concat(s),{required:"People Number is Required",min:{value:1,message:"Minimum People Number is 1"},max:{value:100,message:"Maximum People Number is 100"}})),{},{placeholder:"number of people",value:k,onChange:function(){C(),B(!0)}})),Q["number_of_people-".concat(s)]&&(0,Z.jsx)("small",{className:"text-danger",children:Q["number_of_people-".concat(s)].message})]})})]})},le=function(){for(var e=[],s=0;s<O;s++){var a,n,l;e.push((0,Z.jsx)(ne,{id:s,class_name:null===u||void 0===u||null===(a=u.classes[s])||void 0===a?void 0:a.class_name,price:null===u||void 0===u||null===(n=u.classes[s])||void 0===n?void 0:n.money,people:null===u||void 0===u||null===(l=u.classes[s])||void 0===l?void 0:l.number_of_people},s))}return e};return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{className:"modal fade editinfo mt-5 mt-sm-5",id:"editInformation","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"editInformationLabel","aria-hidden":"true",children:(0,Z.jsx)("div",{className:"modal-dialog modal-lg",children:(0,Z.jsx)("form",{onSubmit:V(ae),children:(0,Z.jsxs)("div",{className:"modal-content",children:[(0,Z.jsxs)("div",{className:"modal-header",children:[(0,Z.jsx)("h5",{className:"modal-title ",id:"editInformationLabel",children:"Edit your Hotel info"}),(0,Z.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,Z.jsx)("div",{className:"modal-body",children:(0,Z.jsxs)("div",{className:"row ",children:[(0,Z.jsx)("div",{className:"col-12",children:(0,Z.jsxs)("div",{className:"input-group input-group-lg  mb-1 ",children:[(0,Z.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,Z.jsx)(x.G,{icon:p.yGG})}),(0,Z.jsx)("input",(0,i.Z)((0,i.Z)({type:"text",className:"form-control filed \n                                      ".concat(Q.name&&"invalid")},$("name",{minLength:{value:3,message:"Minimum Required length is 3"},maxLength:{value:30,message:"Maximum allowed length is 30 "}})),{},{onKeyUp:function(){ee("name")},placeholder:null===u||void 0===u?void 0:u.name,onChange:function(){B(!0)}})),Q.name&&(0,Z.jsx)("small",{className:"text-danger",children:Q.name.message})]})}),(0,Z.jsx)("div",{className:"col-6",children:(0,Z.jsxs)("div",{className:"input-group input-group-lg mb-1 ",children:[(0,Z.jsx)("span",{className:"input-group-text fs-3  filed-icon",id:"basic-addon1",children:(0,Z.jsx)(x.G,{icon:p.U9S})}),(0,Z.jsxs)("select",(0,i.Z)((0,i.Z)({className:"form-select  filed ".concat(Q.rate&&"invalid")},$("rate",{})),{},{onKeyUp:function(){ee("rate")},"aria-label":"Default select example",onChange:function(){B(!0)},children:[(0,Z.jsxs)("option",{value:"",children:[u.rate," stars"]}),(0,Z.jsx)("option",{value:"1",children:"1 Star"}),(0,Z.jsx)("option",{value:"2",children:"2 Stars"}),(0,Z.jsx)("option",{value:"3",children:"3 Stars"}),(0,Z.jsx)("option",{value:"4",children:"4 Stars"}),(0,Z.jsx)("option",{value:"5",children:"5 Stars "})]})),Q.rate&&(0,Z.jsx)("small",{className:"text-danger",children:Q.rate.message})]})}),(0,Z.jsx)("div",{className:"col-6",children:(0,Z.jsxs)("div",{className:"input-group input-group-lg mb-1 ",children:[(0,Z.jsx)("span",{className:"input-group-text fs-3  filed-icon",id:"basic-addon1",children:(0,Z.jsx)(x.G,{icon:p.j0x})}),(0,Z.jsxs)("select",(0,i.Z)((0,i.Z)({className:"form-select  filed ".concat(Q.category&&"invalid")},$("category",{})),{},{onKeyUp:function(){ee("category")},"aria-label":"Default select example",onChange:function(){B(!0)},children:[(0,Z.jsx)("option",{value:"",children:"category"}),null===W||void 0===W||null===(a=W.category)||void 0===a?void 0:a.map((function(e){return(0,Z.jsx)("option",{selected:u.category_id===+e.id,value:+e.id,children:e.name})}))]})),Q.category&&(0,Z.jsx)("small",{className:"text-danger",children:Q.category.message})]})}),(0,Z.jsx)("div",{className:"col-12",children:(0,Z.jsxs)("div",{className:"input-group input-group-lg  mb-1  ",children:[(0,Z.jsx)("span",{className:"input-group-text fs-3  filed-icon",id:"basic-addon1",children:(0,Z.jsx)(x.G,{icon:p.Yif})}),(0,Z.jsx)("input",(0,i.Z)((0,i.Z)({type:"text",className:"form-control filed \n                                      ".concat(Q.location&&"invalid")},$("location",{})),{},{onKeyUp:function(){ee("location")},placeholder:null===u||void 0===u?void 0:u.location,onChange:function(){B(!0)}})),Q.location&&(0,Z.jsx)("small",{className:"text-danger",children:Q.location.message})]})}),(0,Z.jsx)("div",{className:"col-12",children:(0,Z.jsxs)("div",{className:"input-group input-group-lg  mb-1  ",children:[(0,Z.jsx)("span",{className:"input-group-text fs-3  filed-icon",id:"basic-addon1",children:(0,Z.jsx)(x.G,{icon:p.FU$})}),(0,Z.jsx)("input",(0,i.Z)((0,i.Z)({type:"email",className:"form-control filed \n                                      ".concat(Q.support_email&&"invalid")},$("support_email",{pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})),{},{onKeyUp:function(){ee("support_email")},placeholder:u.support_email,onChange:function(){B(!0)}})),Q.support_email&&(0,Z.jsx)("small",{className:"text-danger",children:Q.support_email.message})]})}),(0,Z.jsxs)("div",{className:"col-12",children:[(0,Z.jsxs)("div",{className:"input-group input-group-lg  mb-1  ",children:[(0,Z.jsx)("span",{className:"input-group-text fs-3  filed-icon",id:"basic-addon1",children:(0,Z.jsx)(x.G,{icon:b.d8s})}),(0,Z.jsx)("textarea",(0,i.Z)((0,i.Z)({rows:"2",type:"text",className:"form-control filed \n                                      ".concat(Q.descriprion&&"invalid")},$("descriprion",{})),{},{onKeyUp:function(){ee("descriprion")},placeholder:null===u||void 0===u?void 0:u.description,onChange:function(){B(!0)}})),Q.descriprion&&(0,Z.jsx)("small",{className:"text-danger",children:Q.descriprion.message})]}),(0,Z.jsxs)("div",{className:"row",children:[(0,Z.jsx)(le,{}),(0,Z.jsxs)("div",{className:"col-4",children:[(0,Z.jsx)("span",{className:"fs-3 n-icon plus me-2 ms-3 ".concat(5===O&&"d-none"," "),children:(0,Z.jsx)(x.G,{icon:p.KtF,onClick:function(){H(O+1)}})}),(0,Z.jsx)("span",{className:"fs-3  n-icon minus ".concat(1===O&&"d-none"," "),children:(0,Z.jsx)(x.G,{icon:p.uMC,onClick:function(){H(O-1)}})})]})]})]}),(0,Z.jsxs)("div",{className:"images-box col-12",children:[(0,Z.jsx)("div",{className:"col-12 ",children:(0,Z.jsxs)("div",{className:"input-group input-group-lg  mb-1 ",children:[(0,Z.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,Z.jsx)(x.G,{icon:p.l9f})}),(0,Z.jsx)("input",(0,i.Z)((0,i.Z)({type:"file",id:"poster",accept:"image/*",alt:"...",multiple:"multiple",className:"form-control filed \n                        ".concat(Q.images&&"invalid")},$("images",{})),{},{onKeyUp:function(){ee("images")},placeholder:"images",onChange:function(){B(!0)}})),Q.images&&(0,Z.jsx)("small",{className:"text-danger",children:Q.images.message})]})}),(0,Z.jsxs)("div",{className:"col-12 alert alert-warning d-flex align-items-center h-50 ",role:"alert",children:[(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-exclamation-triangle-fill flex-shrink-0 me-2",viewBox:"0 0 16 16",role:"img","aria-label":"Warning:",children:(0,Z.jsx)("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})}),(0,Z.jsx)("div",{children:"You can upload multiple photos"})]})]})]})}),(0,Z.jsxs)("div",{className:"modal-footer",children:[(0,Z.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),(0,Z.jsx)("button",{type:0===Object.keys(Q).length&&"submit",className:"btn btn-primary",disabled:!z,"data-bs-dismiss":0===Object.keys(Q).length&&"modal",children:"save"})]})]})})})})})},S=function(e){var s=e.AllSupers,a=e.AllUserss,n=e.flag,l=e.setflag,m=e.info,u=(e.setinfo,e.userRole),h=(0,d.s0)(),x=(0,c.useContext)(j.Z),p=x.auth,v=x.setAuth,g=(0,c.useState)(!1),b=(0,r.Z)(g,2),y=b[0],_=b[1],k=(0,c.useState)(""),w=(0,r.Z)(k,2),C=(w[0],w[1]),F=(0,c.useState)(1),S=(0,r.Z)(F,2),A=S[0],G=S[1],L=function(e){document.querySelectorAll(".nav-link").forEach((function(e){e.classList.remove("active")})),e.target.classList.add("active")},T=function(){var e=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(s){var a,o,r,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("user_id",s),a.append("hotel_id",null===m||void 0===m?void 0:m.id),_(!0),e.prev=4,e.next=7,f.Z.post("/api/add_supervisor_hotel",a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p.atoken)},withCredentials:!0});case 7:o=e.sent,_(!1),console.log(o.data),1===o.data.status&&l(!n),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),_(!1),3===(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(c=r.data)||void 0===c?void 0:c.status)&&(v((0,i.Z)((0,i.Z)({},p),{},{ablocked:0})),h("/blocked")),null!==e.t0&&void 0!==e.t0&&e.t0.message&&(C(e.t0.response.data.message),console.log(e.t0.response));case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(s){return e.apply(this,arguments)}}();return(0,Z.jsxs)(Z.Fragment,{children:[y&&(0,Z.jsx)(N.Z,{}),a?a.map((function(s){return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("tr",{className:"table-light\n                    text-center",children:[(0,Z.jsx)("td",{children:(0,Z.jsx)("div",{className:"img-model",children:(0,Z.jsx)("img",{src:s.img,type:"button",alt:"..."})})}),(0,Z.jsx)("td",{children:s.name}),(0,Z.jsx)("td",{children:s.phone}),(0,Z.jsxs)("td",{children:[1===s.have_facilities?"Yes":"No"," "]}),(0,Z.jsx)("td",{children:(0,Z.jsx)("button",{type:"button",className:"btn btn-success btn-sm",onClick:function(){e(s.id)},children:"Set As Supervisor"})})]})})})):(0,Z.jsx)(Z.Fragment,{})]})},I=function(){var e=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(s){var a,o,r,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("user_id",s),a.append("hotel_id",m.id),_(!0),e.prev=4,e.next=7,f.Z.post("/api/delete_supervisor_hotel",a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(p.atoken)},withCredentials:!0});case 7:o=e.sent,console.log(o.data),_(!1),l(!n),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),_(!1),3===(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r||null===(c=r.data)||void 0===c?void 0:c.status)&&(v((0,i.Z)((0,i.Z)({},p),{},{ablocked:0})),h("/blocked")),null!==e.t0&&void 0!==e.t0&&e.t0.message&&(C(e.t0.response.data.message),console.log(e.t0.response));case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(s){return e.apply(this,arguments)}}();return(0,Z.jsxs)(Z.Fragment,{children:[y&&(0,Z.jsx)(N.Z,{}),s?s.map((function(s){return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("tr",{className:"table-primary\n                    text-center",children:[(0,Z.jsx)("td",{children:(0,Z.jsx)("div",{className:"img-model",children:(0,Z.jsx)("img",{src:s.worker_img,type:"button",alt:"..."})})}),(0,Z.jsx)("td",{children:s.worker_name}),(0,Z.jsx)("td",{children:s.worker_phone}),(0,Z.jsx)("td",{children:(0,Z.jsx)("button",{type:"button",className:"btn btn-danger btn-sm ".concat("manager"===s.role_facilities_name&&"d-none"),onClick:function(){e(null===s||void 0===s?void 0:s.user_id)},disabled:1!==u&&"manger"!==s.role_facilities_name,children:"unSet"})}),(0,Z.jsx)("td",{})]})})})):(0,Z.jsx)(Z.Fragment,{})]})};return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{className:"modal fade setsupervisors mt-5 mt-sm-0",id:"setsupermodal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"setsupermodalLabel","aria-hidden":"true",children:(0,Z.jsx)("div",{className:"modal-dialog modal-xl modal-fullscreen-sm-down",children:(0,Z.jsxs)("div",{className:"modal-content",children:[(0,Z.jsxs)("div",{className:"modal-header",children:[(0,Z.jsx)("h5",{className:"modal-title",id:"setsupermodalLabel",children:"Set Supervisors"}),(0,Z.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,Z.jsxs)("div",{className:"modal-body",children:[(0,Z.jsxs)("ul",{className:"nav nav-tabs ",children:[(0,Z.jsx)("li",{className:"nav-item",children:(0,Z.jsx)("div",{className:"nav-link active ","aria-current":"page",onClick:function(e){L(e),G(1)},children:"Users"})}),(0,Z.jsx)("li",{className:"nav-item",children:(0,Z.jsx)("div",{className:"nav-link ","aria-current":"page",onClick:function(e){L(e),G(2)},children:"Supervisors"})})]}),(0,Z.jsxs)("table",{className:"table  text-center",children:[(0,Z.jsx)("thead",{children:(0,Z.jsxs)("tr",{className:"table-dark",children:[(0,Z.jsx)("th",{scope:"col",children:"Image"}),(0,Z.jsx)("th",{scope:"col",children:"Name"}),(0,Z.jsx)("th",{scope:"col",children:"Numbre"}),(0,Z.jsx)("th",{scope:"col",children:1===A&&"Have Facilities"}),(0,Z.jsx)("th",{scope:"col",children:" "})]})}),(0,Z.jsx)("tbody",{children:1===A?(0,Z.jsx)(Z.Fragment,{children:y?(0,Z.jsx)("h1",{children:"Loading"}):(0,Z.jsx)(T,{})}):2===A?(0,Z.jsx)(Z.Fragment,{children:y?(0,Z.jsx)("h1",{children:"Loading"}):(0,Z.jsx)(I,{})}):(0,Z.jsx)(Z.Fragment,{})})]})]})]})})})})},A=function(e){e.info,e.setinfo;var s=e.reservations,a=(e.hereAfterReservations,e.sethereAfterReservations),n=(0,c.useContext)(j.Z).auth,l=(0,c.useState)(!1),t=(0,r.Z)(l,2),i=t[0],o=(t[1],(0,c.useState)(1)),d=(0,r.Z)(o,2),m=d[0],u=d[1],h=function(e){document.querySelectorAll(".nav-link").forEach((function(e){e.classList.remove("active")})),e.target.classList.add("active")},x=(new Date).toJSON().slice(0,19).split("T").join(" ");(0,c.useEffect)((function(){var e=null===s||void 0===s?void 0:s.filter((function(e){return e.end_date>=x}));a(null===e||void 0===e?void 0:e.length)}));var p=function(){return(0,Z.jsx)(Z.Fragment,{children:s?s.map((function(e){return e.end_date>=x?(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("tr",{className:"table-warning\n                    text-center",children:[(0,Z.jsx)("td",{children:e.user_id}),(0,Z.jsx)("td",{children:e.user_name}),(0,Z.jsx)("td",{children:e.start_date}),(0,Z.jsx)("td",{children:e.end_date}),(0,Z.jsx)("td",{children:e.class_name}),(0,Z.jsx)("td",{children:e.number_of_people}),(0,Z.jsx)("td",{children:e.number_of_room}),(0,Z.jsxs)("td",{children:[e.price," ",n.acurrency_symb]}),(0,Z.jsx)("td",{children:0===e.by_packge?"no":"yes"}),(0,Z.jsx)("td",{children:e.note})]})}):(0,Z.jsx)(Z.Fragment,{})})):(0,Z.jsx)(Z.Fragment,{})})},v=function(){return(0,Z.jsx)(Z.Fragment,{children:s?s.map((function(e){return e.end_date<x?(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("tr",{className:"table-info\n                    text-center",children:[(0,Z.jsx)("td",{children:e.user_id}),(0,Z.jsx)("td",{children:e.user_name}),(0,Z.jsx)("td",{children:e.start_date}),(0,Z.jsx)("td",{children:e.end_date}),(0,Z.jsx)("td",{children:e.class_name}),(0,Z.jsx)("td",{children:e.number_of_people}),(0,Z.jsx)("td",{children:e.number_of_room}),(0,Z.jsxs)("td",{children:[e.price," ",n.acurrency_symb]}),(0,Z.jsx)("td",{children:0===e.by_packge?"no":"yes"}),(0,Z.jsx)("td",{children:e.note})]})}):(0,Z.jsx)(Z.Fragment,{})})):(0,Z.jsx)(Z.Fragment,{})})};return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{className:"modal fade reservations mt-5 mt-sm-0",id:"reservations","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"reservationsLabel","aria-hidden":"true",children:(0,Z.jsx)("div",{className:"modal-dialog modal-xl modal-fullscreen-sm-down",children:(0,Z.jsxs)("div",{className:"modal-content",children:[(0,Z.jsxs)("div",{className:"modal-header",children:[(0,Z.jsx)("h3",{className:"modal-title",id:"reservationsLabel",children:"Reservations"}),(0,Z.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,Z.jsxs)("div",{className:"modal-body",children:[(0,Z.jsxs)("ul",{className:"nav nav-tabs ",children:[(0,Z.jsx)("li",{className:"nav-item",children:(0,Z.jsx)("div",{className:"nav-link active ","aria-current":"page",onClick:function(e){h(e),u(1)},children:"HereAfter"})}),(0,Z.jsx)("li",{className:"nav-item",children:(0,Z.jsx)("div",{className:"nav-link ","aria-current":"page",onClick:function(e){h(e),u(2)},children:"Finished"})})]}),(0,Z.jsxs)("table",{className:"table  text-center",children:[(0,Z.jsx)("thead",{children:(0,Z.jsxs)("tr",{className:"table-dark",children:[(0,Z.jsx)("th",{scope:"col",children:"User id"}),(0,Z.jsx)("th",{scope:"col",children:"User Name"}),(0,Z.jsx)("th",{scope:"col",children:"Start Date"}),(0,Z.jsx)("th",{scope:"col",children:"End Date"}),(0,Z.jsx)("th",{scope:"col",children:"class name"}),(0,Z.jsx)("th",{scope:"col",children:"Persons"}),(0,Z.jsx)("th",{scope:"col",children:"Rooms"}),(0,Z.jsx)("th",{scope:"col",children:"Price"}),(0,Z.jsx)("th",{scope:"col",children:"From A package"}),(0,Z.jsx)("th",{scope:"col",children:"Note"})]})}),(0,Z.jsx)("tbody",{children:1===m?(0,Z.jsx)(Z.Fragment,{children:i?(0,Z.jsx)("h1",{children:"Loading"}):(0,Z.jsx)(p,{})}):2===m?(0,Z.jsx)(Z.Fragment,{children:i?(0,Z.jsx)("h1",{children:"Loading"}):(0,Z.jsx)(v,{})}):(0,Z.jsx)(Z.Fragment,{})})]})]})]})})})})},G=function(e){var s,a,n,l,m,u,h=e.id,v=e.info,g=e.setinfo,b=e.plans,y=(0,d.s0)(),_=(0,c.useContext)(j.Z),k=_.auth,w=_.setAuth,C=(0,c.useState)(!1),F=(0,r.Z)(C,2),S=F[0],A=F[1],G=(0,c.useState)(!1),L=(0,r.Z)(G,2),T=L[0],I=L[1],R=(0,c.useState)(""),P=(0,r.Z)(R,2),U=P[0],E=P[1],M=(0,c.useState)(null),D=(0,r.Z)(M,2),z=D[0],B=D[1],q=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(s,a){var n,l,o,r,c,d,m;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(k.abalance<a)){e.next=5;break}I(!1),E("Your current E-wallet balance is not enough"),e.next=24;break;case 5:return A(!0),(n=new FormData).append("fasilites_id",h),n.append("month",s),n.append("type","hot"),e.prev=10,e.next=13,f.Z.post("/api/subscribe",n,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(k.atoken)},withCredentials:!0});case 13:l=e.sent,console.log(l.data),A(!1),1===l.data.status&&(B(+l.data.money_in_wallet.toFixed(2)),g((0,i.Z)((0,i.Z)({},v),{},{available_to:l.data.availabel_tob})),I(!0),E("You Plan is successfully upgraded , Your New Balance is ".concat(l.data.money_in_wallet.toFixed(2)," ").concat(k.acurrency_symb))),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(10),A(!1),I(!1),null!==e.t0&&void 0!==e.t0&&e.t0.message?0===(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o?void 0:o.status)?(E(e.t0.message),console.log(U)):400===(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.status)?(3===(null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d||null===(m=d.data)||void 0===m?void 0:m.status)&&(w((0,i.Z)((0,i.Z)({},k),{},{ablocked:0})),y("/blocked")),E(e.t0.response.data.message),console.log(U)):401===(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.status)?(E(e.t0.response.data.message),console.log(U)):(E("Edit Profile Failed"),console.log(e.t0)):(E("No Server Response"),console.log("No Server Response"));case 24:case"end":return e.stop()}}),e,null,[[10,19]])})));return function(s,a){return e.apply(this,arguments)}}();return(0,Z.jsxs)(Z.Fragment,{children:[S&&(0,Z.jsx)(N.Z,{}),(null===b||void 0===b?void 0:b.length)>0&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{className:"modal fade mt-5 mt-sm-0",id:"billingmodal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"billingmodalLabel","aria-hidden":"true",children:(0,Z.jsx)("div",{className:"modal-dialog modal-xl billingsplans ",children:(0,Z.jsxs)("div",{className:"modal-content",children:[(0,Z.jsxs)("div",{className:"modal-header",children:[(0,Z.jsx)("div",{className:"modal-title",id:"billingmodalLabel",children:"Trip Tips Plans"}),(0,Z.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:function(){null!=z&&w((0,i.Z)((0,i.Z)({},k),{},{abalance:+z.toFixed(2)})),I(!1)}})]}),(0,Z.jsx)("div",{className:"modal-body",children:(0,Z.jsxs)("div",{className:"row ",children:[(0,Z.jsx)("div",{className:"col-10 col-md-6 col-lg-5 col-xl-3 mx-auto",children:(0,Z.jsxs)("div",{className:" card-config free-trail position-relative",children:[(0,Z.jsxs)("span",{className:"position-absolute  translate-middle fs-5 badge rounded-pill bg-danger",children:["100%",(0,Z.jsx)("sup",{children:"off"}),(0,Z.jsx)("span",{className:"visually-hidden",children:"unread messages"})]}),(0,Z.jsxs)("div",{className:"text-box",children:[(0,Z.jsx)("div",{className:"title",children:"Free Trail "}),(0,Z.jsx)("div",{className:"desc text-center",children:"Temporary free service for new places"}),(0,Z.jsx)("hr",{}),(0,Z.jsx)("div",{className:"fetuars",children:(0,Z.jsx)("span",{className:"fetuars",children:"mange your place for Free"})}),(0,Z.jsx)("hr",{}),(0,Z.jsxs)("div",{className:"date",children:[(0,Z.jsx)("span",{className:"fetuars",children:"Period:"})," a month"]}),(0,Z.jsx)("hr",{}),(0,Z.jsx)("div",{className:"price  position-relative my-2",children:"Free"}),(0,Z.jsx)("hr",{}),(0,Z.jsx)("div",{className:"more",children:(0,Z.jsx)("button",{type:"button",disabled:!0,children:"Already Used"})})]})]})}),(0,Z.jsx)("div",{className:"col-10 col-md-6 col-lg-5 col-xl-3 mx-auto",children:(0,Z.jsxs)("div",{className:" card-config monthly position-relative",children:[(0,Z.jsxs)("span",{className:"position-absolute  translate-middle fs-5 badge rounded-pill bg-danger",children:["most used",(0,Z.jsx)("span",{className:"visually-hidden",children:"unread messages"})]}),(0,Z.jsxs)("div",{className:"text-box",children:[(0,Z.jsx)("div",{className:"title",children:"Monthly "}),(0,Z.jsx)("div",{className:"desc text-center",children:"a 30 days of full control and services"}),(0,Z.jsx)("hr",{}),(0,Z.jsx)("div",{className:"fetuars",children:(0,Z.jsx)("span",{className:"fetuars",children:"Most wanted and used plan"})}),(0,Z.jsx)("hr",{}),(0,Z.jsxs)("div",{className:"date",children:[(0,Z.jsx)("span",{className:"fetuars",children:"Period:"})," a"," ",null===(s=b[0])||void 0===s?void 0:s.name]}),(0,Z.jsx)("hr",{}),(0,Z.jsxs)("div",{className:"price  position-relative my-2",children:[null===(a=b[0])||void 0===a?void 0:a.price.toFixed(2)," ",k.acurrency_symb]}),(0,Z.jsx)("hr",{}),(0,Z.jsx)("div",{className:"more",children:(0,Z.jsx)("button",{className:"",onClick:function(){var e;q(1,null===(e=b[0])||void 0===e?void 0:e.price.toFixed(2))},type:"button",children:"Upgrade"})})]})]})}),(0,Z.jsx)("div",{className:"col-10 col-md-6 col-lg-5 col-xl-3 mx-auto",children:(0,Z.jsxs)("div",{className:" card-config seasonly position-relative",children:[(0,Z.jsxs)("span",{className:"position-absolute  translate-middle fs-5 badge rounded-pill bg-danger",children:["16%",(0,Z.jsx)("sup",{children:"Off"}),(0,Z.jsx)("span",{className:"visually-hidden",children:"unread messages"})]}),(0,Z.jsxs)("div",{className:"text-box",children:[(0,Z.jsx)("div",{className:"title",children:" seasonly "}),(0,Z.jsx)("div",{className:"desc text-center",children:"a 180 days of full control and services"}),(0,Z.jsx)("hr",{}),(0,Z.jsx)("div",{className:"fetuars",children:(0,Z.jsx)("span",{className:"fetuars",children:"Comfortable and exellant plan"})}),(0,Z.jsx)("hr",{}),(0,Z.jsxs)("div",{className:"date",children:[(0,Z.jsx)("span",{className:"fetuars",children:"Period:"})," ",null===(n=b[0])||void 0===n?void 0:n.name]}),(0,Z.jsx)("hr",{}),(0,Z.jsxs)("div",{className:"price  position-relative my-2",children:[null===(l=b[1])||void 0===l?void 0:l.price.toFixed(2)," ",k.acurrency_symb]}),(0,Z.jsx)("hr",{}),(0,Z.jsx)("div",{className:"more",children:(0,Z.jsx)("button",{className:"",onClick:function(){var e;q(6,null===(e=b[1])||void 0===e?void 0:e.price.toFixed(2))},type:"button",children:"Upgrade"})})]})]})}),(0,Z.jsx)("div",{className:"col-10 col-md-6 col-lg-5 col-xl-3 mx-auto",children:(0,Z.jsxs)("div",{className:" card-config annual position-relative",children:[(0,Z.jsxs)("span",{className:"position-absolute  translate-middle fs-5 badge rounded-pill bg-danger",children:["33%",(0,Z.jsx)("sup",{children:"off"}),(0,Z.jsx)("span",{className:"visually-hidden",children:"unread messages"})]}),(0,Z.jsxs)("div",{className:"text-box",children:[(0,Z.jsx)("div",{className:"title",children:"Annual"}),(0,Z.jsx)("div",{className:"desc text-center",children:"A fulll year of full control and discount up to 33%"}),(0,Z.jsx)("hr",{}),(0,Z.jsx)("div",{className:"fetuars",children:(0,Z.jsx)("span",{className:"fetuars",children:"the best choice and most savings plan"})}),(0,Z.jsx)("hr",{}),(0,Z.jsxs)("div",{className:"date",children:[(0,Z.jsx)("span",{className:"fetuars",children:"Period:"})," ",null===(m=b[0])||void 0===m?void 0:m.name]}),(0,Z.jsx)("hr",{}),(0,Z.jsxs)("div",{className:"price  position-relative my-2",children:[null===(u=b[2])||void 0===u?void 0:u.price.toFixed(2)," ",k.acurrency_symb]}),(0,Z.jsx)("hr",{}),(0,Z.jsx)("div",{className:"more",children:(0,Z.jsx)("button",{className:"",onClick:function(){var e;q(12,null===(e=b[2])||void 0===e?void 0:e.price.toFixed(2))},type:"button",children:"Upgrade"})})]})]})})]})}),(0,Z.jsxs)("div",{className:"modal-footer ",children:[(0,Z.jsxs)("div",{className:"col-12 text-center ".concat(T&&"d-none"),children:["Your E-wallet balance is : ",k.abalance.toFixed(2),k.acurrency_symb]}),U&&(0,Z.jsxs)("div",{className:"alert col-8 mx-auto alert-".concat(T?"success":"danger"," d-flex align-items-center col-6  mx-auto server-error"),role:"alert",children:[(0,Z.jsx)(x.G,{icon:T?p.f8k:p.eHv,className:"bi  me-2 ",width:"25",height:"25",role:"img","aria-label":"Danger:"}),(0,Z.jsx)("div",{className:"text-center fs-5",children:U})]})]})]})})})})]})},L=function(e){var s=e.info,a=e.hereAfterReservations,n=(0,d.s0)(),l=(0,c.useContext)(j.Z),m=l.auth,u=l.setAuth,h=(0,c.useState)(!1),v=(0,r.Z)(h,2),g=(v[0],v[1]),b=(0,c.useState)(""),N=(0,r.Z)(b,2),y=(N[0],N[1]),_=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(){var a,l,o,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("hotel_id",null===s||void 0===s?void 0:s.id),g(!0),e.prev=3,e.next=6,f.Z.post("/api/delete_hot",a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(m.atoken)},withCredentials:!0});case 6:l=e.sent,g(!1),console.log(l.data),1===l.data.status&&n("/home"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),g(!1),3===(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.status)&&(u((0,i.Z)((0,i.Z)({},m),{},{ablocked:0})),n("/blocked")),null!==e.t0&&void 0!==e.t0&&e.t0.message&&(y(e.t0.response.data.message),console.log(e.t0.response));case 17:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}();return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("div",{className:"modal fade mt-5 mt-sm-0",id:"revokecontract","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"revokecontractLabel","aria-hidden":"true",children:(0,Z.jsx)("div",{className:"modal-dialog  modal-lg",children:(0,Z.jsxs)("div",{className:"modal-content",children:[(0,Z.jsxs)("div",{className:"modal-header",children:[(0,Z.jsx)("h5",{className:"modal-title",id:"revokecontractLabel",children:"Are You Sure You want to revoke this place contract?"}),(0,Z.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,Z.jsx)("div",{className:"modal-body",children:a>0?(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:"alert alert-warning d-flex align-items-center",role:"alert",children:[(0,Z.jsx)(x.G,{className:" flex-shrink-0 me-2 fs-5",icon:p.e7M}),(0,Z.jsx)("h4",{className:"alert-heading me-3",children:"Warning"}),(0,Z.jsx)("hr",{}),(0,Z.jsxs)("div",{children:["sorry, ...",(0,Z.jsx)("br",{})," but you can not revoke the contract right now because of existing a reservations on your place",(0,Z.jsx)("br",{})," (from users or maybe from a package)",(0,Z.jsx)("br",{}),"freze your place reservations or contact with support team"," ",(0,Z.jsx)("br",{}),(0,Z.jsx)("hr",{}),(0,Z.jsx)("b",{children:"The condition above is According to trip tips terms and conditions,"})]})]})}):(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:"alert alert-danger d-flex align-items-center",role:"alert",children:[(0,Z.jsx)(x.G,{className:" flex-shrink-0 me-2 fs-5",icon:p.e7M}),(0,Z.jsx)("h4",{className:"alert-heading me-3",children:"Warning"}),(0,Z.jsx)("hr",{}),(0,Z.jsxs)("div",{children:["If you revoke the contract you will lose everythings that related to this place and lose your attribute like a manger of it , the supervisors will also do ...",(0,Z.jsx)("br",{}),(0,Z.jsx)("hr",{}),(0,Z.jsx)("b",{children:"According to trip tips terms and conditions, no financial value may be returned from the remaining contract !!"})]})]})})}),(0,Z.jsxs)("div",{className:"modal-footer",children:[(0,Z.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",children:"Discard"}),(0,Z.jsx)("button",{type:"button",className:"btn btn-danger ".concat(a>0&&"d-none"),"data-bs-dismiss":"modal",onClick:_,children:"Revoke"})]})]})})})})};s.default=function(){var e,s,a,n,l,g,b=(0,d.s0)(),_=(0,d.UO)().id,k=(0,c.useState)(!1),T=(0,r.Z)(k,2),I=T[0],R=T[1],P=(0,c.useContext)(j.Z),U=P.auth,E=P.setAuth,M=(0,c.useState)(!0),D=(0,r.Z)(M,2),z=D[0],B=D[1],q=(0,c.useState)(!1),Y=(0,r.Z)(q,2),O=(Y[0],Y[1]),H=(0,c.useState)(""),K=(0,r.Z)(H,2),W=(K[0],K[1]),J=(0,c.useState)({}),X=(0,r.Z)(J,2),$=X[0],V=X[1],Q=(0,c.useState)(1),ee=(0,r.Z)(Q,2),se=ee[0],ae=ee[1],ne=(0,c.useState)(0),le=(0,r.Z)(ne,2),te=le[0],ie=le[1],oe=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(s){var a,n,l,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("hotel_id",$.id),O(!0),e.prev=3,e.next=6,f.Z.post("/api/booking_freeze_hot",a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(U.atoken)},withCredentials:!0});case 6:n=e.sent,console.log(n.data.message),O(!1),R(!I),1===n.data.status&&B(!z),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),O(!1),3===(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.status)&&(E((0,i.Z)((0,i.Z)({},U),{},{ablocked:0})),b("/blocked")),null!==e.t0&&void 0!==e.t0&&e.t0.message&&(W(e.t0.response.data.message),console.log(e.t0.response));case 18:B(!z);case 19:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(s){return e.apply(this,arguments)}}(),re=(0,m.Tu)("/api/Hotel_info",I,["hotel_id"],[_]),ce=re.data,de=re.fetchError;(0,c.useEffect)((function(){var e,s;0===(null===de||void 0===de||null===(e=de.response)||void 0===e||null===(s=e.data)||void 0===s?void 0:s.status)&&ae(0)}),[de]),(0,c.useEffect)((function(){V((0,i.Z)({},null===ce||void 0===ce?void 0:ce.hotel))}),[null===ce||void 0===ce?void 0:ce.hotel]);var me,ue=null===(e=U.ahotel_role)||void 0===e?void 0:e.filter((function(e){return e.hotel_id===+_}));ue.length>0?me=ue[0].role_facilities_id:b("/home");var he=(0,m.Tu)("/api/user_without_super_hot",I,["hotel_id"],[_]),xe=he.data,pe=he.isLoading,ve=(0,m.ek)("/api/Subscribe_price",I).data,je=(0,m.Tu)("/api/Show_bookings_hotel",I,["hotel_id"],[_]).data,ge=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(s){var a,n,l,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("user_id",s),a.append("hotel_id",$.id),O(!0),e.prev=4,e.next=7,f.Z.post("/api/delete_supervisor_hotel",a,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(U.atoken)},withCredentials:!0});case 7:n=e.sent,console.log(n.data),O(!1),R(!I),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),O(!1),3===(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.status)&&(E((0,i.Z)((0,i.Z)({},U),{},{ablocked:0})),b("/blocked")),null!==e.t0&&void 0!==e.t0&&e.t0.message&&(W(e.t0.response.data.message),console.log(e.t0.response));case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(s){return e.apply(this,arguments)}}(),fe=0;return(0,Z.jsxs)(Z.Fragment,{children:[pe&&(0,Z.jsx)(N.Z,{}),0===se?(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(w,{})}):(0,Z.jsxs)(Z.Fragment,{children:[null===$||void 0===$||null===(s=$.images)||void 0===s?void 0:s.map((function(e){return(0,Z.jsx)(C,{id:e.id,img:e.img,info:$,setinfo:V,userRole:me},e.id)})),(null===$||void 0===$?void 0:$.name)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(F,{info:$,setInfo:V}),(0,Z.jsx)(S,{userRole:me,AllUserss:xe,AllSupers:null===$||void 0===$?void 0:$.roles,info:$,setinfo:V,flag:I,setflag:R,placeId:_}),(0,Z.jsx)(A,{info:$,setinfo:V,reservations:null===je||void 0===je?void 0:je.bookings,hereAfterReservations:te,sethereAfterReservations:ie}),(0,Z.jsx)(G,{id:_,plans:null===ve||void 0===ve?void 0:ve.Subscribe_info,info:$,setinfo:V}),(0,Z.jsx)(L,{info:$,hereAfterReservations:te}),(0,Z.jsxs)(y.E.div,{className:"contanier-fluid mange-hotel",initial:{width:0,opacity:0},animate:{width:"100%",opacity:1},exit:{opacity:0,transition:{duration:.3}},children:[(0,Z.jsxs)("div",{className:"row offset-1 mt-5 mt-sm-2",children:[(0,Z.jsx)("div",{className:"col-2 mt-2",children:(0,Z.jsx)(x.G,{className:"back-icon",icon:p.Lh7,onClick:function(){b(-1)}})}),(0,Z.jsx)("div",{className:"title text-center col-7",children:null===$||void 0===$?void 0:$.name}),(0,Z.jsx)("div",{className:"col-2"})]}),(0,Z.jsx)("div",{className:"row place-images",children:(0,Z.jsx)(h.tq,{effect:"coverflow",grabCursor:!0,centeredSlides:!0,slidesPerView:"auto",allowSlideNext:!0,allowSlidePrev:!0,navigation:!0,slidesPerGroup:1,coverflowEffect:{rotate:20,depth:200,stretch:0,modifier:1,slideShadows:!0},modules:[u.lI,u.W_],className:"mySwiper col-10",children:null===$||void 0===$||null===(a=$.images)||void 0===a?void 0:a.map((function(e){return(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(h.o5,{"data-bs-toggle":"modal","data-bs-target":"#hotelImagee-".concat(e.id),children:(0,Z.jsx)("img",{src:e.img,alt:"..."})},e.id)})}))})}),(0,Z.jsxs)("div",{className:"row offset-sm-1 offset-md-2 offset-xl-1",children:[(0,Z.jsx)("div",{className:"col-11 ms-3 ms-md-0  offset-sm-1 offset-md-0 col-md-6 col-xl-3",children:(0,Z.jsxs)("div",{className:"row mt-5",children:[(0,Z.jsxs)("div",{className:"col-12 superfie-box",children:[(0,Z.jsx)("div",{className:"sub-title",children:"Supervisors"}),(0,Z.jsx)("hr",{className:"col-12"}),(0,Z.jsx)(h.tq,{effect:"cards",grabCursor:!0,modules:[u.c4],className:"mySwiper",children:null===$||void 0===$||null===(n=$.roles)||void 0===n?void 0:n.map((function(e){return(0,Z.jsx)(h.o5,{children:(0,Z.jsxs)("div",{className:"supervisors-card row g-0",children:[(0,Z.jsx)("div",{className:"img-box  ",children:(0,Z.jsx)("img",{src:e.worker_img,alt:"..."})}),(0,Z.jsxs)("div",{className:"infor-box ",children:[(0,Z.jsx)("div",{className:"name",children:e.worker_name}),(0,Z.jsxs)("div",{className:"phone",children:[(0,Z.jsx)(x.G,{className:"me-2",icon:p.Cv1}),e.role_facilities_name]}),(0,Z.jsxs)("div",{className:"phone",children:[(0,Z.jsx)(x.G,{className:"me-2",icon:p.j1w}),e.worker_phone]}),1===me&&(0,Z.jsx)("div",{className:"remove  ".concat("manager"===e.role_facilities_name&&"d-none"),onClick:function(){ge(e.user_id)},children:(0,Z.jsx)("span",{type:"button",disabled:"manager"===e.role_facilities_name&&!0,children:"Remove"})})]})]})})}))})]}),(0,Z.jsxs)("div",{className:"col-12 earnings-box mt-2",children:[(0,Z.jsx)("div",{className:"sub-title",children:"earnings"}),(0,Z.jsx)("hr",{className:"col-12"}),(0,Z.jsxs)("div",{className:"earnings-content",children:[(0,Z.jsx)("div",{className:"money-icon",children:(0,Z.jsx)(x.G,{className:"",icon:1===me?p.LjC:p.byT})}),(0,Z.jsxs)("div",{className:"earnings ".concat(1!==me&&"d-none"),children:[null===je||void 0===je||null===(l=je.bookings)||void 0===l?void 0:l.map((function(e){fe+=+e.price})),fe.toFixed(2)," ",U.acurrency_symb]})]})]})]})}),(0,Z.jsxs)("div",{className:"col-11  offset-1 offset-md-0 col-md-10 col-xl-5 info-box mt-5 order-first order-xl-0",children:[(0,Z.jsxs)("div",{className:"title",children:[null===$||void 0===$?void 0:$.name," Info"]}),(0,Z.jsx)("hr",{className:"col-12"}),1===(null===$||void 0===$?void 0:$.freeze)?(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,Z.jsx)("h4",{className:"alert-heading",children:"Your place is disabled"}),(0,Z.jsx)("p",{children:"this place is disabled and hide from trip tips app because of ending the contract date or maybe an admin has been disabled it"}),(0,Z.jsx)("hr",{className:"red-hr"}),(0,Z.jsx)("p",{className:"mb-0",children:"please upgrade your contract plan or if it's already upgraded contact with our help center and ask them about the reason."})]})}):(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsxs)("div",{className:"info-content w-100",children:[(0,Z.jsx)("div",{className:"desc text-center",children:null===$||void 0===$?void 0:$.description}),(0,Z.jsxs)("div",{className:"row",children:[(0,Z.jsxs)("div",{className:"col-6 rate text-center",children:[(0,Z.jsx)(x.G,{icon:(null===$||void 0===$?void 0:$.rate)>=1?p.Tab:v.Tab}),(0,Z.jsx)(x.G,{icon:(null===$||void 0===$?void 0:$.rate)>=2?p.Tab:v.Tab}),(0,Z.jsx)(x.G,{icon:(null===$||void 0===$?void 0:$.rate)>=3?p.Tab:v.Tab}),(0,Z.jsx)(x.G,{icon:(null===$||void 0===$?void 0:$.rate)>=4?p.Tab:v.Tab}),(0,Z.jsx)(x.G,{icon:5===(null===$||void 0===$?void 0:$.rate)?p.Tab:v.Tab})]}),(0,Z.jsxs)("div",{className:"category col-6 ",children:[(0,Z.jsx)(x.G,{className:"icon",icon:p.j0x}),(0,Z.jsx)("div",{children:null===$||void 0===$?void 0:$.category_name})]})]}),(0,Z.jsxs)("div",{className:"  location",children:[(0,Z.jsx)(x.G,{className:"icon",icon:p.Yif}),(0,Z.jsx)("div",{children:null===$||void 0===$?void 0:$.location})]}),(0,Z.jsx)("div",{className:"classes row g-0",children:null===$||void 0===$||null===(g=$.classes)||void 0===g?void 0:g.map((function(e){return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:"classname col-3",children:[(0,Z.jsx)(x.G,{className:"icon",icon:p.JTi}),(0,Z.jsx)("div",{className:"",children:e.class_name})]}),(0,Z.jsx)(x.G,{className:"icon col-1",icon:p.ccb}),(0,Z.jsxs)("div",{className:" price col-3",children:[(0,Z.jsx)(x.G,{className:"icon",icon:p.aLp}),(0,Z.jsxs)("div",{className:"",children:[e.money.toFixed(2)," ",U.acurrency_symb]})]}),(0,Z.jsx)(x.G,{className:"icon col-1",icon:p.ccb}),(0,Z.jsxs)("div",{className:" price col-3",children:[(0,Z.jsx)(x.G,{className:"icon",icon:p.Xhk}),(0,Z.jsx)("div",{className:"",children:e.number_of_people})]})]})}))})]})}),(0,Z.jsx)("hr",{className:"col-10 text-center mt-1"}),(0,Z.jsxs)("div",{className:"end-date",children:[(0,Z.jsx)("h5",{children:"Contract Expiration date"}),(0,Z.jsx)("h4",{className:"text-center",children:null===$||void 0===$?void 0:$.available_to})]})]}),(0,Z.jsxs)("div",{className:"col-11 offset-1 offset-md-0 col-md-5 col-xl-3 mange-shortcuts mt-5",children:[(0,Z.jsx)("div",{className:"sub-title",children:"Manger Shouruts"}),(0,Z.jsx)("hr",{className:"col-12 text-center mt-1"}),(0,Z.jsxs)("div",{className:"shotsbox",children:[(0,Z.jsxs)("div",{className:"shourtcut","data-bs-toggle":"modal","data-bs-target":"#reservations",children:[(0,Z.jsx)(x.G,{className:"icon",icon:p.u7T}),(0,Z.jsx)("div",{children:"Reservations"})]}),1===me&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:"shourtcut","data-bs-toggle":"modal","data-bs-target":"#editInformation",children:[(0,Z.jsx)(x.G,{className:"icon",icon:p.qLl}),(0,Z.jsx)("div",{children:"Edit Info"})]}),(0,Z.jsxs)("div",{className:"shourtcut","data-bs-toggle":"modal","data-bs-target":"#setsupermodal",children:[(0,Z.jsx)(x.G,{className:"icon",icon:p.Mvz}),(0,Z.jsx)("div",{children:"Set Supervisors"})]}),(0,Z.jsxs)("div",{className:"shourtcut","data-bs-toggle":"modal","data-bs-target":"#billingmodal",children:[(0,Z.jsx)(x.G,{className:"icon",icon:p.otv}),(0,Z.jsx)("div",{children:"Billing Plans"})]}),(0,Z.jsxs)("div",{className:"shourtcut","data-bs-toggle":"modal","data-bs-target":"#",onClick:function(){oe()},children:[(0,Z.jsx)(x.G,{className:"icon",icon:z?p.oD0:p.iiS}),(0,Z.jsx)("div",{children:z?"Temporarily suspending reservations":"start bookings"})]}),(0,Z.jsxs)("div",{className:"shourtcut","data-bs-toggle":"modal","data-bs-target":"#revokecontract",children:[(0,Z.jsx)(x.G,{className:"icon",icon:p.uoY}),(0,Z.jsx)("div",{children:"Revoke contract"})]})]})]})]})]})]})]})," "]})]})}}}]);