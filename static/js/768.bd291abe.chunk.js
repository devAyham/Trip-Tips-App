"use strict";(self.webpackChunktrip_tips_project=self.webpackChunktrip_tips_project||[]).push([[768],{3217:function(e,a,s){s.r(a);var n=s(4165),i=s(1413),l=s(5861),t=s(885),o=s(935),c=s(1969),r=s(7979),d=s(7313),u=s(5627),m=s(7890),p=s(9466),x=s(3757),g=s(3124),h=s(1162),v=s(4704),f=s(6831),j=s(6417),_=function(e){var a=e.packageInfo,s=new Date(a.start_date).toISOString(),r=new Date(a.end_date).toISOString(),p=(0,d.useState)(""),_=(0,t.Z)(p,2),N=_[0],b=_[1],k=(0,d.useState)(!1),y=(0,t.Z)(k,2),Z=(y[0],y[1]),S=(0,d.useState)(!1),C=(0,t.Z)(S,2),T=C[0],q=C[1],R=(0,d.useState)(0),D=(0,t.Z)(R,2),G=D[0],P=D[1],w=(0,d.useState)(0),A=(0,t.Z)(w,2),M=A[0],B=A[1],L=(0,d.useState)(0),K=(0,t.Z)(L,2),F=K[0],U=K[1],I=(0,d.useState)(0),H=(0,t.Z)(I,2),O=H[0],E=H[1],$=(0,d.useState)(!1),z=(0,t.Z)($,2),V=z[0],W=z[1],Y=(0,d.useContext)(g.Z),J=Y.auth,Q=Y.setAuth,X=(0,m.s0)(),ee=(0,h.Tu)("/api/ShowAllResturants"),ae=ee.data,se=ee.isLoading,ne=(0,h.Tu)("/api/ShowAllHotels"),ie=ne.data,le=ne.isLoading,te=(0,h.Tu)("/api/ShowAllPlaces"),oe=te.data,ce=te.isLoading,re=(0,h.Tu)("/api/ShowAllAirplane"),de=re.data,ue=re.isLoading,me=(0,u.cI)(),pe=me.register,xe=me.handleSubmit,ge=me.formState.errors,he=me.trigger,ve=me.getValues,fe=function(){var e=(0,l.Z)((0,n.Z)().mark((function e(s){var l,t,o,c,r,d,u,m,p,g,h,v,f,j,_,k,y,Z,S,C;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for((l=new FormData).append("package_id",a.id),t=0;t<(null===(o=s.restaurant_id)||void 0===o?void 0:o.length);t++)l.append("restaurant_id[".concat(t,"]"),s.restaurant_id[t]),c=new Date(s.restaurant_booking_date[t]).toISOString().split("T")[0],l.append("restaurant_booking_date[".concat(t,"]"),c);for(r=0;r<(null===(d=s.hotel_class_id)||void 0===d?void 0:d.length);r++)l.append("hotel_class_id[".concat(r,"]"),s.hotel_class_id[r]),u=new Date(s.hotel_booking_start_date[r]).toISOString().split("T")[0],l.append("hotel_booking_start_date[".concat(r,"]"),u),m=new Date(s.hotel_booking_end_date[r]).toISOString().split("T")[0],l.append("hotel_booking_end_date[".concat(r,"]"),m);for(p=0;p<(null===(g=s.airplane_class_id)||void 0===g?void 0:g.length);p++)l.append("airplane_class_id[".concat(p,"]"),s.airplane_class_id[p]),h=new Date(s.airplane_booking_date[p]).toISOString().split("T")[0],l.append("airplane_booking_date[".concat(p,"]"),h),l.append("from[".concat(p,"]"),s.from[p]),l.append("to[".concat(p,"]"),s.to[p]);for(v=0;v<(null===(f=s.place_id)||void 0===f?void 0:f.length);v++)l.append("place_id[".concat(v,"]"),s.place_id[v]),j=new Date(s.place_booking[v]).toISOString().split("T")[0],l.append("place_booking[".concat(v,"]"),j);return W(!0),e.prev=7,e.next=10,x.Z.post("/api/addFaciliticsToPackage",l,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(J.atoken)},withCredentials:!0,mode:"no-cros"});case 10:_=e.sent,console.log(_),1===_.data.status?X(-1):b(_.data.message),W(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(7),W(!1),null!==e.t0&&void 0!==e.t0&&e.t0.message?0===(null===e.t0||void 0===e.t0||null===(k=e.t0.response)||void 0===k?void 0:k.status)?(b(e.t0.message),console.log(N)):400===(null===e.t0||void 0===e.t0||null===(y=e.t0.response)||void 0===y?void 0:y.status)?(3===(null===e.t0||void 0===e.t0||null===(S=e.t0.response)||void 0===S||null===(C=S.data)||void 0===C?void 0:C.status)&&(Q((0,i.Z)((0,i.Z)({},J),{},{ablocked:0})),X("/blocked")),b(e.t0.response.data.message),console.log(N)):401===(null===e.t0||void 0===e.t0||null===(Z=e.t0.response)||void 0===Z?void 0:Z.status)?(b(e.t0.response.data.message),console.log(N)):(b("Add Package Failed"),console.log(e.t0)):(b("No Server Response"),console.log("No Server Response"));case 20:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(a){return e.apply(this,arguments)}}(),je=function(){for(var e=[],a=0;a<G;a++)e.push((0,j.jsx)(_e,{id:a},a));return e},_e=function(e){var a,n,l,t,d,u,m,p,x=e.id;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-12 col-lg-7",children:(0,j.jsxs)("div",{className:"input-group input-group-lg mb-1 ms-sm-5",children:[(0,j.jsx)("span",{className:"input-group-text fs-3  filed-icon",id:"basic-addon1",children:(0,j.jsx)(c.G,{icon:o.a3I})}),(0,j.jsxs)("select",(0,i.Z)((0,i.Z)({className:"form-select  filed ".concat((null===ge||void 0===ge||null===(a=ge.place_id)||void 0===a?void 0:a[x])&&"invalid")},pe("place_id[".concat(x,"]"),{required:"One Natural Place At least Required"})),{},{onKeyUp:function(){he("place_id[".concat(x,"]"))},"aria-label":"Default select example",children:[(0,j.jsx)("option",{value:"",children:"Natural Palces "}),null===oe||void 0===oe||null===(n=oe.Place)||void 0===n?void 0:n.map((function(e){return(0,j.jsxs)("option",{value:+e.id,children:[" ",e.name,"/ ",(0,j.jsx)("strong",{children:"Category : "})," ",e.category.name,"/ ",(0,j.jsx)("b",{children:"Location : "})," ",e.location," "]})}))]})),(null===ge||void 0===ge||null===(l=ge.place_id)||void 0===l?void 0:l[x])&&(0,j.jsx)("small",{className:"text-danger",children:null===ge||void 0===ge||null===(t=ge.place_id)||void 0===t?void 0:t[x].message})]})}),(0,j.jsx)("div",{className:"col-12 col-lg-5",children:(0,j.jsxs)("div",{className:"input-group input-group-lg  mb-1 ms-sm-5 ",children:[(0,j.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,j.jsx)(c.G,{icon:o.$nv})}),(0,j.jsx)("input",(0,i.Z)((0,i.Z)({type:"datetime-local",className:"form-control filed \n                                      ".concat((null===ge||void 0===ge||null===(d=ge.place_booking)||void 0===d?void 0:d[x])&&"invalid")},pe("place_booking[".concat(x,"]"),{required:"Natural Trip Date is Required",validate:{start_data:function(e){return e>=s||"Booking Time Should Be Greater Than start_date "},end_date:function(e){return e<=r||"Booking Time Should Be Less Than end_date"}}})),{},{onKeyUp:function(){he("place_booking[".concat(x,"]"))},placeholder:"tripData"})),(null===ge||void 0===ge||null===(u=ge.place_booking)||void 0===u?void 0:u[x])&&(0,j.jsx)("small",{className:"text-danger",children:null===ge||void 0===ge||null===(m=ge.place_booking)||void 0===m||null===(p=m[x])||void 0===p?void 0:p.message})]})})]}),(0,j.jsx)("hr",{className:"col-12 col-lg-6 mx-auto"})]})},Ne=function(){for(var e=[],a=0;a<M;a++)e.push((0,j.jsx)(be,{id:a},a));return e},be=function(e){var a,n,l,t,d,u,m,p,x=e.id;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-12 col-lg-7 mx-auto",children:(0,j.jsxs)("div",{className:"input-group input-group-lg mb-1 ms-sm-5",children:[(0,j.jsx)("span",{className:"input-group-text fs-3  filed-icon",id:"basic-addon1",children:(0,j.jsx)(c.G,{icon:o.fkH})}),(0,j.jsxs)("select",(0,i.Z)((0,i.Z)({className:"form-select  filed ".concat((null===ge||void 0===ge||null===(a=ge.restaurant_id)||void 0===a?void 0:a[x])&&"invalid")},pe("restaurant_id[".concat(x,"]"),{required:" Resturant  Required"})),{},{onKeyUp:function(){he("restaurant_id[".concat(x,"]"))},"aria-label":"Default select example",children:[(0,j.jsx)("option",{value:"",children:"Resturants "}),null===ae||void 0===ae||null===(n=ae.restaurants)||void 0===n?void 0:n.map((function(e){return(0,j.jsxs)("option",{value:+e.id,children:[" ",e.name,"/ ",(0,j.jsx)("strong",{children:"Category : "})," ",e.category.name,"/ ",(0,j.jsx)("b",{children:"Location : "})," ",e.location," "]})}))]})),(null===ge||void 0===ge||null===(l=ge.restaurant_id)||void 0===l?void 0:l[x])&&(0,j.jsx)("small",{className:"text-danger",children:null===ge||void 0===ge||null===(t=ge.restaurant_id)||void 0===t||null===(d=t[x])||void 0===d?void 0:d.message})]})}),(0,j.jsx)("div",{className:"col-12 col-lg-5",children:(0,j.jsxs)("div",{className:"input-group input-group-lg  mb-1 ms-sm-5 ",children:[(0,j.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,j.jsx)(c.G,{icon:o.$nv})}),(0,j.jsx)("input",(0,i.Z)((0,i.Z)({type:"datetime-local",className:"form-control filed \n                                      ".concat((null===ge||void 0===ge||null===(u=ge.restaurant_booking_date)||void 0===u?void 0:u[x])&&"invalid")},pe("restaurant_booking_date[".concat(x,"]"),{required:"Resturant Date is Required",validate:{start_data:function(e){return e>=s||"Booking Time Should Be Greater Than start_date "},end_date:function(e){return e<=r||"Booking Time Should Be Less Than end_date"}}})),{},{onKeyUp:function(){he("restaurant_booking_date[".concat(x,"]"))},placeholder:"tripData"})),(null===ge||void 0===ge||null===(m=ge.restaurant_booking_date)||void 0===m?void 0:m[x])&&(0,j.jsx)("small",{className:"text-danger",children:null===ge||void 0===ge||null===(p=ge.restaurant_booking_date)||void 0===p?void 0:p[x].message})]})})]}),(0,j.jsx)("hr",{className:"col-12 col-lg-6 mx-auto"})]})},ke=function(){for(var e=[],a=0;a<F;a++)e.push((0,j.jsx)(ye,{id:a},a));return e},ye=function(e){var a,n,l,t,d,u,m,p,x,g,h=e.id;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-12 col-lg-6",children:(0,j.jsxs)("div",{className:"input-group input-group-lg mb-1 ms-sm-5",children:[(0,j.jsx)("span",{className:"input-group-text fs-3  filed-icon",id:"basic-addon1",children:(0,j.jsx)(c.G,{icon:o.Ht4})}),(0,j.jsxs)("select",(0,i.Z)((0,i.Z)({className:"form-select  filed ".concat((null===ge||void 0===ge||null===(a=ge.hotel_class_id)||void 0===a?void 0:a[h])&&"invalid")},pe("hotel_class_id[".concat(h,"]"),{required:" Hotel  Required"})),{},{onKeyUp:function(){he("hotel_class_id[".concat(h,"]"))},"aria-label":"Default select example",children:[(0,j.jsx)("option",{value:"",children:"Hotels "}),null===ie||void 0===ie||null===(n=ie.hotels)||void 0===n?void 0:n.map((function(e){return(0,j.jsx)("optgroup",{label:"".concat(e.name," / Location: ").concat(e.location," / Rate : ").concat(e.rate," Stars "),children:e.classes.map((function(e){return(0,j.jsxs)("option",{value:e.id,children:[e.class_name," / Price: ",e.money," "]})}))})}))]})),(null===ge||void 0===ge||null===(l=ge.hotel_class_id)||void 0===l?void 0:l[h])&&(0,j.jsx)("small",{className:"text-danger",children:null===ge||void 0===ge||null===(t=ge.hotel_class_id)||void 0===t?void 0:t[h].message})]})}),(0,j.jsx)("div",{className:"col-12 col-lg-3",children:(0,j.jsxs)("div",{className:"input-group input-group-lg  mb-1 ms-sm-5 ",children:[(0,j.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,j.jsx)(c.G,{icon:o.Ry6})}),(0,j.jsx)("input",(0,i.Z)((0,i.Z)({type:"datetime-local",className:"form-control filed \n                                      ".concat((null===ge||void 0===ge||null===(d=ge.hotel_booking_start_date)||void 0===d?void 0:d[h])&&"invalid")},pe("hotel_booking_start_date[".concat(h,"]"),{required:"Hotel start Date is Required",validate:{start_data:function(e){return e>=s||"Booking Time Should Be Greater Than start_date "},end_date:function(e){return e<=r||"Booking Time Should Be Less Than end_date"}}})),{},{onKeyUp:function(){he("hotel_booking_start_date[".concat(h,"]"))},placeholder:"tripData"})),(null===ge||void 0===ge||null===(u=ge.hotel_booking_start_date)||void 0===u?void 0:u[h])&&(0,j.jsx)("small",{className:"text-danger",children:null===ge||void 0===ge||null===(m=ge.hotel_booking_start_date)||void 0===m?void 0:m[h].message})]})}),(0,j.jsx)("div",{className:"col-12 col-lg-3",children:(0,j.jsxs)("div",{className:"input-group input-group-lg  mb-1 ms-sm-5 ",children:[(0,j.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,j.jsx)(c.G,{icon:o.KxR})}),(0,j.jsx)("input",(0,i.Z)((0,i.Z)({type:"datetime-local",className:"form-control filed \n                                      ".concat((null===ge||void 0===ge||null===(p=ge.hotel_booking_end_date)||void 0===p?void 0:p[h])&&"invalid")},pe("hotel_booking_end_date[".concat(h,"]"),{required:"Hotel End Date is Required",validate:{start_data:function(e){return e>=s||"Booking Time Should Be Greater Than start_date "},end_date:function(e){return e<=r||"Booking Time Should Be Less Than end_date"},GTEdata:function(e){return e>ve("hotel_booking_start_date[".concat(h,"]"))||"End Day Should Be Greater than Enter Day"}}})),{},{onKeyUp:function(){he("hotel_booking_end_date[".concat(h,"]"))},placeholder:"tripData"})),(null===ge||void 0===ge||null===(x=ge.hotel_booking_end_date)||void 0===x?void 0:x[h])&&(0,j.jsx)("small",{className:"text-danger",children:null===ge||void 0===ge||null===(g=ge.hotel_booking_end_date)||void 0===g?void 0:g[h].message})]})})]}),(0,j.jsx)("hr",{className:"col-12 col-lg-6 mx-auto"})]})},Ze=function(){for(var e=[],a=0;a<O;a++)e.push((0,j.jsx)(Se,{id:a},a));return e},Se=function(e){var a,n,l,t,d,u,m,p,x,g,h,v,f,_=e.id;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:"col-12",children:(0,j.jsxs)("div",{className:"input-group input-group-lg mb-1 ms-sm-5",children:[(0,j.jsx)("span",{className:"input-group-text fs-3  filed-icon",id:"basic-addon1",children:(0,j.jsx)(c.G,{icon:o.wKO})}),(0,j.jsxs)("select",(0,i.Z)((0,i.Z)({className:"form-select  filed ".concat((null===ge||void 0===ge||null===(a=ge.airplane_class_id)||void 0===a?void 0:a[_])&&"invalid")},pe("airplane_class_id[".concat(_,"]"),{required:" Plane  Required"})),{},{onKeyUp:function(){he("airplane_class_id[".concat(_,"]"))},"aria-label":"Default select example",children:[(0,j.jsx)("option",{value:"",children:"AirLines"}),null===de||void 0===de||null===(n=de.airplane)||void 0===n?void 0:n.map((function(e){return(0,j.jsx)("optgroup",{label:"".concat(e.name," / Location: ").concat(e.location," / Rate : ").concat(e.rate," Stars "),children:e.classes.map((function(e){return(0,j.jsxs)("option",{value:e.id,children:[e.class_name," / Price: ",e.money," "]})}))})}))]})),(null===ge||void 0===ge||null===(l=ge.airplane_class_id)||void 0===l?void 0:l[_])&&(0,j.jsx)("small",{className:"text-danger",children:null===ge||void 0===ge||null===(t=ge.airplane_class_id)||void 0===t?void 0:t[_].message})]})}),(0,j.jsx)("div",{className:"col-12",children:(0,j.jsxs)("div",{className:"input-group input-group-lg  mb-1 ms-sm-5 ",children:[(0,j.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,j.jsx)(c.G,{icon:o.Ry6})}),(0,j.jsx)("input",(0,i.Z)((0,i.Z)({type:"datetime-local",className:"form-control filed \n                                      ".concat((null===ge||void 0===ge||null===(d=ge.airplane_booking_date)||void 0===d?void 0:d[_])&&"invalid")},pe("airplane_booking_date[".concat(_,"]"),{required:"AirLine Date is Required",validate:{start_data:function(e){return e>=s||"Booking Time Should Be Greater Than start_date "},end_date:function(e){return e<=r||"Booking Time Should Be Less Than end_date"}}})),{},{onKeyUp:function(){he("airplane_booking_date[".concat(_,"]"))},placeholder:"tripData"})),(null===ge||void 0===ge||null===(u=ge.airplane_booking_date)||void 0===u?void 0:u[_])&&(0,j.jsx)("small",{className:"text-danger",children:null===ge||void 0===ge||null===(m=ge.airplane_booking_date)||void 0===m?void 0:m[_].message})]})}),(0,j.jsxs)("div",{className:"input-group input-group-lg  mb-1 ms-sm-5 ",children:[(0,j.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,j.jsx)(c.G,{icon:o.gR})}),(0,j.jsx)("input",(0,i.Z)((0,i.Z)({className:"form-control filed ".concat((null===ge||void 0===ge||null===(p=ge.from)||void 0===p?void 0:p[_])&&"invalid"),type:"text"},pe("from[".concat(_,"]"),{required:"The AirPort is Required"})),{},{placeholder:"Enter The Airport | City"})),(null===ge||void 0===ge||null===(x=ge.from)||void 0===x?void 0:x[_])&&(0,j.jsx)("small",{className:"text-danger text-end",children:null===ge||void 0===ge||null===(g=ge.from)||void 0===g?void 0:g[_].message}),(0,j.jsx)("span",{className:"input-group-text  fs-3 filed-icon ",children:(0,j.jsx)(c.G,{icon:o.OUR})}),(0,j.jsx)("input",(0,i.Z)((0,i.Z)({type:"text",className:"form-control filed ".concat((null===ge||void 0===ge||null===(h=ge.to)||void 0===h?void 0:h[_])&&"invalid")},pe("to[".concat(_,"]"),{required:"The AirPort is Required"})),{},{placeholder:"Enter The Airport | City"})),(null===ge||void 0===ge||null===(v=ge.to)||void 0===v?void 0:v[_])&&(0,j.jsx)("small",{className:"text-danger text-end",children:null===ge||void 0===ge||null===(f=ge.to)||void 0===f?void 0:f[_].message})]})]}),(0,j.jsx)("hr",{className:"col-12 col-sm-6 mx-auto"})]})};return(0,j.jsxs)(j.Fragment,{children:[(V||ue||le||ce||se)&&(0,j.jsx)(v.Z,{}),(0,j.jsxs)("form",{onSubmit:xe(fe),children:[(0,j.jsxs)("div",{className:"natural-box",children:[(0,j.jsx)("h2",{className:"me-3 sub-title",children:"Natural Places"}),(0,j.jsx)("span",{className:"fs-3  n-icon plus",children:(0,j.jsx)(c.G,{icon:o.KtF,onClick:function(){P(G+1)}})}),(0,j.jsx)("span",{className:"fs-3  n-icon minus ".concat(0===G&&"d-none"," "),children:(0,j.jsx)(c.G,{icon:o.uMC,onClick:function(){P(G-1)}})})]}),(0,j.jsx)(je,{}),(0,j.jsx)("hr",{className:"hr col-12 ms-sm-5"}),(0,j.jsxs)("div",{className:"natural-box",children:[(0,j.jsx)("h2",{className:"me-3 sub-title",children:"Resturants"}),(0,j.jsx)("span",{className:"fs-3  n-icon plus",children:(0,j.jsx)(c.G,{icon:o.KtF,onClick:function(){B(M+1)}})}),(0,j.jsx)("span",{className:"fs-3  n-icon minus ".concat(0===M&&"d-none"," "),children:(0,j.jsx)(c.G,{icon:o.uMC,onClick:function(){B(M-1)}})})]}),(0,j.jsx)(Ne,{}),(0,j.jsx)("hr",{className:"hr col-12 ms-sm-5"}),(0,j.jsxs)("div",{className:"natural-box",children:[(0,j.jsx)("h2",{className:"me-3 sub-title",children:"Hotels"}),(0,j.jsx)("span",{className:"fs-3  n-icon plus",children:(0,j.jsx)(c.G,{icon:o.KtF,onClick:function(){U(F+1)}})}),(0,j.jsx)("span",{className:"fs-3  n-icon minus ".concat(0===F&&"d-none"," "),children:(0,j.jsx)(c.G,{icon:o.uMC,onClick:function(){U(F-1)}})})]}),(0,j.jsx)(ke,{}),(0,j.jsx)("hr",{className:"hr col-12 ms-sm-5"}),(0,j.jsxs)("div",{className:"natural-box",children:[(0,j.jsx)("h2",{className:"me-3 sub-title",children:"AirLines"}),(0,j.jsx)("span",{className:"fs-3  n-icon plus",children:(0,j.jsx)(c.G,{icon:o.KtF,onClick:function(){E(O+1)}})}),(0,j.jsx)("span",{className:"fs-3  n-icon minus ".concat(0===O&&"d-none"," "),children:(0,j.jsx)(c.G,{icon:o.uMC,onClick:function(){E(O-1)}})})]}),(0,j.jsx)(Ze,{}),(0,j.jsx)("hr",{className:"hr col-12 ms-sm-5"}),(0,j.jsx)("div",{className:"col-12 col-lg-10 offset-lg-1 "}),(0,j.jsx)("div",{className:"ReCAPTCHA-div offset-sm-1 mt-1 col-11 col-lg-8   ",children:(0,j.jsx)(f.Z,{notArobot:T,setnotArobot:q})}),(0,j.jsxs)("div",{className:"div-icon col-11   ",children:[N&&(0,j.jsxs)("div",{className:"alert alert-".concat(Z?"success":"danger"," d-flex align-items-center col-6  mx-auto server-error"),role:"alert",children:[(0,j.jsx)(c.G,{icon:Z?o.f8k:o.eHv,className:"bi  me-2 ",width:"25",height:"25",role:"img","aria-label":"Danger:"}),(0,j.jsx)("div",{className:"text-center",children:N})]}),(0,j.jsx)("button",{className:"one-icon",disabled:!T,type:"submit",children:"Create Package"})]})]})]})};a.default=function(){var e,a,s,f=(0,m.s0)(),N=(0,d.useState)(""),b=(0,t.Z)(N,2),k=b[0],y=b[1],Z=(0,d.useState)(!1),S=(0,t.Z)(Z,2),C=(S[0],S[1]),T=(0,d.useContext)(g.Z),q=T.auth,R=T.setAuth,D=(0,d.useState)(!1),G=(0,t.Z)(D,2),P=G[0],w=G[1],A=(0,d.useState)(1),M=(0,t.Z)(A,2),B=M[0],L=M[1],K=(0,d.useState)(),F=(0,t.Z)(K,2),U=F[0],I=F[1],H=(0,h.ek)("/api/getPackageCategory"),O=H.data,E=H.isLoading,$=(0,h.ek)("/api/getTouristSupervisor"),z=$.data,V=$.isLoading,W=(0,u.cI)(),Y=W.register,J=W.handleSubmit,Q=W.formState.errors,X=W.trigger,ee=function(){var e=(0,l.Z)((0,n.Z)().mark((function e(a){var s,l,t,o,c,r,d,u,m,p,g,h,v,j,_,N,b;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.name,l=a.description,t=a.img,o=a.start_date,c=a.number_of_day,r=a.discount_percentage,d=a.max_reservation,u=a.tourist_supervisor,m=a.category,p=new Date(o).toISOString().slice(0,19).split("T").join(" "),(g=new FormData).append("img",t[0]),g.append("name",s),g.append("start_date",p),g.append("category_id",m),g.append("discount_percentage",r),g.append("description",l),g.append("number_of_day",c),g.append("max_reservation",d),g.append("tourist_supervisor_id",u),w(!0),e.prev=13,e.next=16,x.Z.post("/api/addPackage",g,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(q.atoken)},withCredentials:!0,mode:"no-cros"});case 16:h=e.sent,console.log(h.data),I(h.data.package),L(2),w(!1),C(!0),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(13),w(!1),null!==e.t0&&void 0!==e.t0&&e.t0.message?0===(null===e.t0||void 0===e.t0||null===(v=e.t0.response)||void 0===v?void 0:v.status)?(y(e.t0.message),console.log(k)):400===(null===e.t0||void 0===e.t0||null===(j=e.t0.response)||void 0===j?void 0:j.status)?(3===(null===e.t0||void 0===e.t0||null===(N=e.t0.response)||void 0===N||null===(b=N.data)||void 0===b?void 0:b.status)&&(R((0,i.Z)((0,i.Z)({},q),{},{ablocked:0})),f("/blocked")),y(e.t0.response.data.message),console.log(k)):401===(null===e.t0||void 0===e.t0||null===(_=e.t0.response)||void 0===_?void 0:_.status)?(y(e.t0.response.data.message),console.log(k)):(y("Add Package Failed"),console.log(e.t0)):(y("No Server Response"),console.log("No Server Response"));case 28:case"end":return e.stop()}}),e,null,[[13,24]])})));return function(a){return e.apply(this,arguments)}}();return(0,j.jsxs)(j.Fragment,{children:[(P||E||V)&&(0,j.jsx)(v.Z,{}),(0,j.jsxs)(r.E.div,{className:"container addPackage",initial:{width:0,opacity:0},animate:{width:"100%",opacity:1,transition:{duration:1}},exit:{opacity:0,width:0,transition:{duration:.3}},children:[(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("div",{className:" col-11 offset-1 offset-xl-0  col-lg-3 fs-4 mt-5 mt-lg-3",children:(0,j.jsx)("nav",{"aria-label":"breadcrumb ",children:(0,j.jsxs)("ol",{className:"breadcrumb mt-3 mt-sm-0",children:[(0,j.jsx)("li",{className:"breadcrumb-item",children:(0,j.jsx)(p.rU,{to:"/dashboard/packages",children:"Packages"})}),(0,j.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"AddPackage"})]})})}),(0,j.jsx)("h1",{className:"title text-center mb-5 col-12 col-lg-6",children:"Add New Package"})]}),1===B?(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("form",{onSubmit:J(ee),children:[(0,j.jsx)("div",{className:" col-11 offset-sm-1 ",children:(0,j.jsxs)("div",{className:"row",children:[(0,j.jsx)("label",{for:"poster",className:"form-label poster-label offset-2",children:"Package Poster"}),(0,j.jsx)("div",{className:"col-12 col-lg-5 pe-2",children:(0,j.jsxs)("div",{className:"input-group input-group-lg  mb-1 ms-sm-5 ",children:[(0,j.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,j.jsx)(c.G,{icon:o.l9f})}),(0,j.jsx)("input",(0,i.Z)((0,i.Z)({type:"file",id:"poster",accept:"image/*",alt:"Poster",className:"form-control filed \n                                      ".concat(Q.img&&"invalid")},Y("img")),{},{onKeyUp:function(){X("img")},placeholder:"Package Poster"})),Q.img&&(0,j.jsx)("small",{className:"text-danger",children:Q.img.message})]})}),(0,j.jsx)("div",{className:"col-12 col-lg-6",children:(0,j.jsxs)("div",{className:"input-group input-group-lg  mb-1 ms-sm-5 ",children:[(0,j.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,j.jsx)(c.G,{icon:o.yGG})}),(0,j.jsx)("input",(0,i.Z)((0,i.Z)({type:"text",className:"form-control filed \n                                      ".concat(Q.name&&"invalid")},Y("name",{required:"Name is Required",minLength:{value:3,message:"Minimum Required length is 3"},maxLength:{value:30,message:"Maximum allowed length is 30 "}})),{},{onKeyUp:function(){X("name")},placeholder:"Package Name"})),Q.name&&(0,j.jsx)("small",{className:"text-danger",children:Q.name.message})]})}),(0,j.jsx)("div",{className:"col-12 col-lg-4",children:(0,j.jsxs)("div",{className:"input-group input-group-lg  mb-1 ms-sm-5 ",children:[(0,j.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,j.jsx)(c.G,{icon:o.$nv})}),(0,j.jsx)("input",(0,i.Z)((0,i.Z)({type:"datetime-local",className:"form-control filed \n                                      ".concat(Q.start_date&&"invalid")},Y("start_date",{required:"Trip Date is Required"})),{},{onKeyUp:function(){X("start_date")},placeholder:"start_date"})),Q.start_date&&(0,j.jsx)("small",{className:"text-danger",children:Q.start_date.message})]})}),(0,j.jsx)("div",{className:"col-12 col-lg-2",children:(0,j.jsxs)("div",{className:"input-group input-group-lg  mb-1 ms-sm-5 ",children:[(0,j.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,j.jsx)(c.G,{icon:o.WRo})}),(0,j.jsx)("input",(0,i.Z)((0,i.Z)({type:"number",className:"form-control filed \n                                      ".concat(Q.number_of_day&&"invalid")},Y("number_of_day",{required:"Days Number is Required",min:{value:1,message:"Minimum Required Days is 1"},max:{value:30,message:"Maximum  Required Days is 30 "}})),{},{onKeyUp:function(){X("number_of_day")},placeholder:"Days"})),Q.number_of_day&&(0,j.jsx)("small",{className:"text-danger",children:Q.number_of_day.message})]})}),(0,j.jsx)("div",{className:"col-12 col-lg-5",children:(0,j.jsxs)("div",{className:"input-group input-group-lg mb-1 ms-sm-5",children:[(0,j.jsx)("span",{className:"input-group-text fs-3  filed-icon",id:"basic-addon1",children:(0,j.jsx)(c.G,{icon:o.Yif})}),(0,j.jsxs)("select",(0,i.Z)((0,i.Z)({className:"form-select  filed ".concat((null===Q||void 0===Q?void 0:Q.tourist_supervisor)&&"invalid")},Y("tourist_supervisor",{required:"Tourist guide and his/her Phone is Required"})),{},{onKeyUp:function(){X("tourist_supervisor")},"aria-label":"Default select example",children:[(0,j.jsx)("option",{value:"",children:"Tourist Guide "}),null===z||void 0===z||null===(e=z.TouristSupervisor)||void 0===e?void 0:e.map((function(e){return(0,j.jsxs)("option",{value:+e.id,children:[e.name," , Phone : ",e.phone," , Location : ",e.location]})}))]})),Q.tourist_supervisor&&(0,j.jsx)("small",{className:"text-danger",children:null===(a=Q.tourist_supervisor)||void 0===a?void 0:a.message})]})}),(0,j.jsx)("div",{className:"col-12 col-lg-3",children:(0,j.jsxs)("div",{className:"input-group input-group-lg mb-1 ms-sm-5",children:[(0,j.jsx)("span",{className:"input-group-text fs-3  filed-icon",id:"basic-addon1",children:(0,j.jsx)(c.G,{icon:o.j0x})}),(0,j.jsxs)("select",(0,i.Z)((0,i.Z)({className:"form-select  filed fs-6 ".concat(Q.category&&"invalid")},Y("category",{required:"Ctegory Is Required"})),{},{onKeyUp:function(){X("category")},"aria-label":"Default select example",children:[(0,j.jsx)("option",{value:"",children:"Category"}),null===O||void 0===O||null===(s=O.category)||void 0===s?void 0:s.map((function(e){return(0,j.jsx)("option",{value:+"".concat(e.id),children:e.name})}))]})),Q.category&&(0,j.jsx)("small",{className:"text-danger",children:Q.category.message})]})}),(0,j.jsx)("div",{className:"col-12 col-lg-3",children:(0,j.jsxs)("div",{className:"input-group input-group-lg   mb-1 ms-sm-5 ",children:[(0,j.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,j.jsx)(c.G,{icon:o.iOm})}),(0,j.jsx)("input",(0,i.Z)((0,i.Z)({type:"number",className:"form-control filed  fs-6 \n                                      ".concat(Q.max_reservation&&"invalid")},Y("max_reservation",{required:"Person Number is Required",min:{value:10,message:"Minimum Required Person is 10"},max:{value:200,message:"Maximum  Required Person is 200 "}})),{},{onKeyUp:function(){X("max_reservation")},placeholder:"Persons Number"})),Q.max_reservation&&(0,j.jsx)("small",{className:"text-danger",children:Q.max_reservation.message})]})}),(0,j.jsx)("div",{className:"col-12 col-lg-5",children:(0,j.jsxs)("div",{className:"input-group input-group-lg  mb-1 ms-sm-5 ",children:[(0,j.jsx)("span",{className:"input-group-text fs-3 filed filed-icon ",children:(0,j.jsx)(c.G,{icon:o.aLp})}),(0,j.jsx)("input",(0,i.Z)((0,i.Z)({type:"number",className:"form-control filed fs-6 ".concat(Q.discount_percentage&&"invalid")},Y("discount_percentage",{required:"Discount is Required",min:{value:5,message:"Minimum  Discount value is 5 %"},max:{value:25,message:"Maximum  Discount value is 20 %"}})),{},{placeholder:"Discount Value ( From 5% to 25% )","aria-label":"discount"})),(0,j.jsxs)("span",{className:"input-group-text filed-icon",children:[" ",(0,j.jsx)(c.G,{icon:o.USL})]}),Q.discount_percentage&&(0,j.jsx)("small",{className:"text-danger text-end",children:Q.discount_percentage.message})]})}),(0,j.jsx)("div",{className:"col-12 col-lg-11",children:(0,j.jsxs)("div",{className:"input-group input-group-lg  mb-1 ms-sm-5 ",children:[(0,j.jsx)("textarea",(0,i.Z)((0,i.Z)({type:"text",rows:1,className:"form-control filed \n                                      ".concat(Q.description&&"invalid")},Y("description",{required:"Description is Required"})),{},{onKeyUp:function(){X("description")},placeholder:"Package Description"})),Q.description&&(0,j.jsx)("small",{className:"text-danger",children:Q.description.message})]})})]})}),(0,j.jsx)("div",{className:"div-icon col-11   ",children:(0,j.jsx)("button",{className:"one-icon",type:"submit",children:"Next"})})]})}):2===B?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(_,{packageInfo:U})}):(0,j.jsx)(j.Fragment,{})]})]})}},6831:function(e,a,s){s.d(a,{Z:function(){return d}});var n=s(885),i=s(7313),l=s.p+"static/media/reCAPTCHA.6f63f5e2e70ceaec3b26.png",t=s(3286),o=s(1969),c=s(935),r=s(6417),d=function(e){var a=e.notArobot,s=e.setnotArobot,d=(0,i.useState)(!1),u=(0,n.Z)(d,2),m=(u[0],u[1]),p=(0,i.useState)(!1),x=(0,n.Z)(p,2),g=x[0],h=x[1],v=(0,i.useState)(""),f=(0,n.Z)(v,2),j=f[0],_=f[1],N=function(e){h(!g),e||_("Worng Answer Try Again"),e&&(m(!0),s(!0))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"modal fade reCap-modal mt-5 mt-sm-0",id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabIndex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:(0,r.jsx)("div",{className:"modal-dialog modal-lg",children:(0,r.jsxs)("div",{className:"modal-content",children:[(0,r.jsxs)("div",{className:"modal-header",children:[(0,r.jsx)("h5",{className:"modal-title",id:"staticBackdropLabel",children:"Choose the logo with the right rotation direction"}),(0,r.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),(0,r.jsx)("div",{className:"modal-body",children:(0,r.jsxs)("div",{className:"imges-box",children:[(0,r.jsx)("div",{className:"img-box ",style:{order:Math.floor(9*Math.random())+1},onClick:function(){N(!0)},"data-bs-dismiss":"modal",children:(0,r.jsx)("img",{id:"theright",src:t,alt:""})}),(0,r.jsx)("div",{className:"img-box",style:{order:Math.floor(9*Math.random())+1},onClick:function(){N(!1)},children:(0,r.jsx)("img",{src:t,alt:""})}),(0,r.jsx)("div",{className:"img-box",style:{order:Math.floor(9*Math.random())+1},onClick:function(){N(!1)},children:(0,r.jsx)("img",{src:t,alt:""})}),(0,r.jsx)("div",{className:"img-box",style:{order:Math.floor(9*Math.random())+1},onClick:function(){N(!1)},children:(0,r.jsx)("img",{src:t,alt:""})}),(0,r.jsx)("div",{className:"img-box",style:{order:Math.floor(9*Math.random())+1},onClick:function(){N(!1)},children:(0,r.jsx)("img",{src:t,alt:""})}),(0,r.jsx)("div",{className:"img-box",style:{order:Math.floor(9*Math.random())+1},onClick:function(){N(!1)},children:(0,r.jsx)("img",{src:t,alt:""})}),(0,r.jsx)("div",{className:"img-box",style:{order:Math.floor(9*Math.random())+1},onClick:function(){N(!1)},children:(0,r.jsx)("img",{src:t,alt:""})}),(0,r.jsx)("div",{className:"img-box",style:{order:Math.floor(9*Math.random())+1},onClick:function(){N(!1)},children:(0,r.jsx)("img",{src:t,alt:""})}),(0,r.jsx)("div",{className:"img-box",style:{order:Math.floor(9*Math.random())+1},onClick:function(){N(!1)},children:(0,r.jsx)("img",{src:t,alt:""})})]})}),(0,r.jsxs)("div",{className:"modal-footer",children:[j&&(0,r.jsxs)("div",{className:"alert alert-danger d-flex align-items-center me-5 w-75",role:"alert",children:[(0,r.jsx)(o.G,{className:"me-2",icon:c.ik8}),(0,r.jsxs)("div",{children:[" ",j]})]}),(0,r.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})]})]})})}),(0,r.jsxs)("div",{className:"reCAPTCHA-box offset-2 offset-md-none",children:[(0,r.jsxs)("div",{className:"form-check ",children:[(0,r.jsx)("input",{className:"form-check-input re-check",id:"flexCheckChecked",type:"checkbox",checked:a,disabled:a,"data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"}),(0,r.jsx)("label",{className:"form-check-label",htmlFor:"flexCheckChecked",children:"I'm not a robot"})]}),(0,r.jsxs)("div",{className:"reCAPTCHA-logo-box text-center",children:[(0,r.jsx)("img",{className:"reCAPTCHA-logo",src:l,alt:"/reCAPTCHA"}),(0,r.jsx)("p",{children:"Privacy - Terms"})]})]})]})}},3286:function(e,a,s){e.exports=s.p+"static/media/22.46344b64afaca2e5dc25.png"}}]);